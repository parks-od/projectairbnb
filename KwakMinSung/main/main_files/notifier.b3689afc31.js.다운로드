__d((function(g,r,i,a,m,e,d){"use strict";m.exports=r(d[0])}),"48be32",["6b8150"]);
__d((function(g,r,i,a,m,e,d){"use strict";!(function(t){if("object"==typeof e&&void 0!==m)m.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{window.Bugsnag=t()}})((function(){var t=['navigation','request','process','log','user','state','error','manual'],n=function(t,n,o){for(var s=o,u=0,c=t.length;u<c;u++)s=n(s,t[u],u,t);return s},o=function(t,o){return n(t,(function(t,n,s,u){return o(n,s,u)?t.concat(n):t}),[])},s=function(t,o){return n(t,(function(t,n,s,u){return!0===t||n===o}),!1)},u=function(t){return'[object Array]'===Object.prototype.toString.call(t)},c=!{toString:null}.propertyIsEnumerable('toString'),l=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],f=function(t){var n,o=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&o.push(n);if(!c)return o;for(var s=0,u=l.length;s<u;s++)Object.prototype.hasOwnProperty.call(t,l[s])&&o.push(l[s]);return o},h=function(t,n){return void 0===t&&(t=1),void 0===n&&(n=1/0),function(o){return'number'==typeof o&&parseInt(''+o,10)===o&&o>=t&&o<=n}},p=function(t){return'function'==typeof t||u(t)&&o(t,(function(t){return'function'==typeof t})).length===t.length},v=function(t){return'string'==typeof t&&!!t.length},y={};y.schema={apiKey:{defaultValue:function(){return null},message:'is required',validate:v},appVersion:{defaultValue:function(){},message:'should be a string',validate:function(t){return void 0===t||v(t)}},appType:{defaultValue:function(){},message:'should be a string',validate:function(t){return void 0===t||v(t)}},autoDetectErrors:{defaultValue:function(){return!0},message:'should be true|false',validate:function(t){return!0===t||!1===t}},enabledErrorTypes:{defaultValue:function(){return{unhandledExceptions:!0,unhandledRejections:!0}},message:'should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }',allowPartialObject:!0,validate:function(t){if('object'!=typeof t||!t)return!1;var n=f(t),u=f({unhandledExceptions:!0,unhandledRejections:!0});return!(o(n,(function(t){return s(u,t)})).length<n.length)&&!(o(f(t),(function(n){return'boolean'!=typeof t[n]})).length>0)}},onError:{defaultValue:function(){return[]},message:'should be a function or array of functions',validate:p},onSession:{defaultValue:function(){return[]},message:'should be a function or array of functions',validate:p},onBreadcrumb:{defaultValue:function(){return[]},message:'should be a function or array of functions',validate:p},endpoints:{defaultValue:function(){return{notify:'https://notify.bugsnag.com',sessions:'https://sessions.bugsnag.com'}},message:'should be an object containing endpoint URLs { notify, sessions }',validate:function(t){return t&&'object'==typeof t&&v(t.notify)&&v(t.sessions)&&0===o(f(t),(function(t){return!s(['notify','sessions'],t)})).length}},autoTrackSessions:{defaultValue:function(t){return!0},message:'should be true|false',validate:function(t){return!0===t||!1===t}},enabledReleaseStages:{defaultValue:function(){return null},message:'should be an array of strings',validate:function(t){return null===t||u(t)&&o(t,(function(t){return'string'==typeof t})).length===t.length}},releaseStage:{defaultValue:function(){return'production'},message:'should be a string',validate:function(t){return'string'==typeof t&&t.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:'should be a number \u2264100',validate:function(t){return h(0,100)(t)}},enabledBreadcrumbTypes:{defaultValue:function(){return t},message:"should be null or a list of available breadcrumb types ("+t.join(',')+")",validate:function(o){return null===o||u(o)&&n(o,(function(n,o){return!1===n?n:s(t,o)}),!0)}},context:{defaultValue:function(){},message:'should be a string',validate:function(t){return void 0===t||'string'==typeof t}},user:{defaultValue:function(){return{}},message:'should be an object with { id, email, name } properties',validate:function(t){return null===t||t&&n(f(t),(function(t,n){return t&&s(['id','email','name'],n)}),!0)}},metadata:{defaultValue:function(){return{}},message:'should be an object',validate:function(t){return'object'==typeof t&&null!==t}},logger:{defaultValue:function(){},message:'should be null or an object with methods { debug, info, warn, error }',validate:function(t){return!t||t&&n(['debug','info','warn','error'],(function(n,o){return n&&'function'==typeof t[o]}),!0)}},redactedKeys:{defaultValue:function(){return['password']},message:'should be an array of strings|regexes',validate:function(t){return u(t)&&t.length===o(t,(function(t){return'string'==typeof t||t&&'function'==typeof t.test})).length}},plugins:{defaultValue:function(){return[]},message:'should be an array of plugin objects',validate:function(t){return u(t)&&t.length===o(t,(function(t){return t&&'object'==typeof t&&'function'==typeof t.load})).length}}};var b,_,S=function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},w=function(t,o){return n(t,(function(t,n,s,u){return t.concat(o(n,s,u))}),[])},E=y.schema,O={releaseStage:S({},E.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?'development':'production'}}),logger:S({},E.logger,{defaultValue:function(){return'undefined'!=typeof console&&'function'==typeof console.debug?N():void 0}})},N=function(){var t={},n=console.log;return w(['debug','info','warn','error'],(function(o){var s=console[o];t[o]='function'==typeof s?s.bind(console,'[bugsnag]'):n.bind(console,'[bugsnag]')})),t},j=(function(){function t(t,n,o,s){void 0===s&&(s=new Date),this.type=o,this.message=t,this.metadata=n,this.timestamp=s}return t.prototype.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},t})(),k={};b=this,_=function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function n(t){return t.charAt(0).toUpperCase()+t.substring(1)}function o(t){return function(){return this[t]}}var s=['isConstructor','isEval','isNative','isToplevel'],u=['columnNumber','lineNumber'],c=['fileName','functionName','source'],l=s.concat(u,c,['args']);function f(t){if(t instanceof Object)for(var o=0;o<l.length;o++)t.hasOwnProperty(l[o])&&void 0!==t[l[o]]&&this['set'+n(l[o])](t[l[o]])}f.prototype={getArgs:function(){return this.args},setArgs:function(t){if('[object Array]'!==Object.prototype.toString.call(t))throw new TypeError('Args must be an Array');this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof f)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError('Eval Origin must be an Object or StackFrame');this.evalOrigin=new f(t)}},toString:function(){return(this.getFunctionName()||'{anonymous}')+'('+(this.getArgs()||[]).join(',')+')'+(this.getFileName()?'@'+this.getFileName():'')+(t(this.getLineNumber())?':'+this.getLineNumber():'')+(t(this.getColumnNumber())?':'+this.getColumnNumber():'')}};for(var h=0;h<s.length;h++)f.prototype['get'+n(s[h])]=o(s[h]),f.prototype['set'+n(s[h])]=(function(t){return function(n){this[t]=Boolean(n)}})(s[h]);for(var p=0;p<u.length;p++)f.prototype['get'+n(u[p])]=o(u[p]),f.prototype['set'+n(u[p])]=(function(n){return function(o){if(!t(o))throw new TypeError(n+' must be a Number');this[n]=Number(o)}})(u[p]);for(var v=0;v<c.length;v++)f.prototype['get'+n(c[v])]=o(c[v]),f.prototype['set'+n(c[v])]=(function(t){return function(n){this[t]=String(n)}})(c[v]);return f},'object'==typeof k?k=_():b.StackFrame=_();var B={};!(function(t,n){'object'==typeof B?B=n(k):t.ErrorStackParser=n(t.StackFrame)})(this,(function(t){var n=/(^|@)\S+\:\d+/,o=/^\s*at .*(\S+\:\d+|\(native\))/m,s=/^(eval@)?(\[native code\])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t['opera#sourceloc'])return this.parseOpera(t);if(t.stack&&t.stack.match(o))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error('Cannot parse given Error object')},extractLocation:function(t){if(-1===t.indexOf(':'))return[t];var n=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(t.replace(/[\(\)]/g,''));return[n[1],n[2]||void 0,n[3]||void 0]},parseV8OrIE:function(n){return n.stack.split('\n').filter((function(t){return!!t.match(o)}),this).map((function(n){n.indexOf('(eval ')>-1&&(n=n.replace(/eval code/g,'eval').replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,''));var o=n.replace(/^\s+/,'').replace(/\(eval code/g,'('),s=o.match(/ (\((.+):(\d+):(\d+)\)$)/),u=(o=s?o.replace(s[0],''):o).split(/\s+/).slice(1),c=this.extractLocation(s?s[1]:u.pop()),l=u.join(' ')||void 0,f=['eval','<anonymous>'].indexOf(c[0])>-1?void 0:c[0];return new t({functionName:l,fileName:f,lineNumber:c[1],columnNumber:c[2],source:n})}),this)},parseFFOrSafari:function(n){return n.stack.split('\n').filter((function(t){return!t.match(s)}),this).map((function(n){if(n.indexOf(' > eval')>-1&&(n=n.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,':$1')),-1===n.indexOf('@')&&-1===n.indexOf(':'))return new t({functionName:n});var o=/((.*".+"[^@]*)?[^@]*)(?:@)/,s=n.match(o),u=s&&s[1]?s[1]:void 0,c=this.extractLocation(n.replace(o,''));return new t({functionName:u,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:n})}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf('\n')>-1&&t.message.split('\n').length>t.stacktrace.split('\n').length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(n){for(var o=/Line (\d+).*script (?:in )?(\S+)/i,s=n.message.split('\n'),u=[],c=2,l=s.length;c<l;c+=2){var f=o.exec(s[c]);f&&u.push(new t({fileName:f[2],lineNumber:f[1],source:s[c]}))}return u},parseOpera10:function(n){for(var o=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=n.stacktrace.split('\n'),u=[],c=0,l=s.length;c<l;c+=2){var f=o.exec(s[c]);f&&u.push(new t({functionName:f[3]||void 0,fileName:f[2],lineNumber:f[1],source:s[c]}))}return u},parseOpera11:function(o){return o.stack.split('\n').filter((function(t){return!!t.match(n)&&!t.match(/^Error created at/)}),this).map((function(n){var o,s=n.split('@'),u=this.extractLocation(s.pop()),c=s.shift()||'',l=c.replace(/<anonymous function(: (\w+))?>/,'$2').replace(/\([^\)]*\)/g,'')||void 0;c.match(/\(([^\)]*)\)/)&&(o=c.replace(/^[^\(]+\(([^\)]*)\)$/,'$1'));var f=void 0===o||'[arguments not available]'===o?void 0:o.split(',');return new t({functionName:l,args:f,fileName:u[0],lineNumber:u[1],columnNumber:u[2],source:n})}),this)}}}));var x=B,T=function(t){return!(!t||!t.stack&&!t.stacktrace&&!t['opera#sourceloc']||'string'!=typeof(t.stack||t.stacktrace||t['opera#sourceloc'])||t.stack===t.name+": "+t.message)};var L=function(t){switch(Object.prototype.toString.call(t)){case'[object Error]':case'[object Exception]':case'[object DOMException]':return!0;default:return t instanceof Error}},R=function(t,n,o){'string'==typeof n&&(o?t[n]&&delete t[n][o]:delete t[n])},q={add:function(t,n,o,s){var u;if(n){var c;if(null===o)return R(t,n);'object'==typeof o&&(c=o),'string'==typeof o&&((u={})[o]=s,c=u),c&&(t[n]||(t[n]={}),t[n]=S({},t[n],c))}},get:function(t,n,o){if('string'==typeof n)return o?t[n]?t[n][o]:void 0:t[n]},clear:R},M={};!(function(t,n){'object'==typeof M?M=n(k):t.StackGenerator=n(t.StackFrame)})(this,(function(t){return{backtrace:function(n){var o=[],s=10;'object'==typeof n&&'number'==typeof n.maxStackSize&&(s=n.maxStackSize);for(var u=arguments.callee;u&&o.length<s&&u.arguments;){for(var c=new Array(u.arguments.length),l=0;l<c.length;++l)c[l]=u.arguments[l];/function(?:\s+([\w$]+))+\s*\(/.test(u.toString())?o.push(new t({functionName:RegExp.$1||void 0,args:c})):o.push(new t({args:c}));try{u=u.caller}catch(t){break}}return o}}}));var C=(function(){function t(t,o,s,u,c){void 0===s&&(s=[]),void 0===u&&(u=P()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=c,this._handledState=u,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._user={},this._session=void 0,this.errors=[{errorClass:V(t),errorMessage:V(o),type:"browserjs",stacktrace:n(s,(function(t,n){var o=D(n);try{return'{}'===JSON.stringify(o)?t:t.concat(o)}catch(n){return t}}),[])}]}var o=t.prototype;return o.addMetadata=function(t,n,o){return q.add(this._metadata,t,n,o)},o.getMetadata=function(t,n){return q.get(this._metadata,t,n)},o.clearMetadata=function(t,n){return q.clear(this._metadata,t,n)},o.getUser=function(){return this._user},o.setUser=function(t,n,o){this._user={id:t,email:n,name:o}},o.toJSON=function(){return{payloadVersion:'4',exceptions:w(this.errors,(function(t){return S({},t,{message:t.errorMessage})})),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session}},t})(),D=function(t){var n={file:t.fileName,method:A(t.functionName),lineNumber:t.lineNumber,columnNumber:t.columnNumber,code:void 0,inProject:void 0};return n.lineNumber>-1&&!n.file&&!n.method&&(n.file='global code'),n},A=function(t){return/^global code$/i.test(t)?'global code':t},P=function(){return{unhandled:!1,severity:'warning',severityReason:{type:'handledException'}}},V=function(t){return'string'==typeof t?t:''};C.getStacktrace=function(t,n,s){if(T(t))return x.parse(t).slice(n);try{return o(M.backtrace(),(function(t){return-1===(t.functionName||'').indexOf('StackGenerator$$')})).slice(1+s)}catch(t){return[]}},C.create=function(t,n,o,s,u,c){void 0===u&&(u=0);var l,f=H(t,n,s,c),h=f[0],p=f[1];try{var v=C.getStacktrace(h,p>0?1+p+u:0,1+u);l=new C(h.name,h.message,v,o,t)}catch(n){l=new C(h.name,h.message,[],o,t)}return'InvalidError'===h.name&&l.addMetadata(""+s,'non-error parameter',I(t)),l};var I=function(t){return null===t?'null':void 0===t?'undefined':t},H=function(t,n,o,s){var u,c=0,l=function(t){s&&s.warn(o+" received a non-error: \""+t+"\"");var n=new Error(o+" received a non-error. See \""+o+"\" tab for more detail.");return n.name='InvalidError',n};if(n)switch(typeof t){case'string':case'number':case'boolean':u=new Error(String(t)),c+=1;break;case'function':u=l('function'),c+=2;break;case'object':null!==t&&L(t)?u=t:null!==t&&K(t)?((u=new Error(t.message||t.errorMessage)).name=t.name||t.errorClass,c+=1):(u=l(null===t?'null':'unsupported object'),c+=2);break;default:u=l('nothing'),c+=2}else L(t)?u=t:(u=l(typeof t),c+=2);if(!T(u))try{throw u}catch(t){T(t)&&(u=t,c=1)}return[u,c]},K=function(t){return!('string'!=typeof t.name&&'string'!=typeof t.errorClass||'string'!=typeof t.message&&'string'!=typeof t.errorMessage)},$=C,U=function(t,n,o,s){for(var u=!1,c=t.slice();!u&&c.length;)try{u=!1===c.pop()(n)}catch(t){s.error("Error occurred in "+o+" callback, continuing anyway\u2026"),s.error(t)}return u},X=function(t,n){var o='000000000'+t;return o.substr(o.length-n)},F=window,J=0;for(var W in F)Object.hasOwnProperty.call(F,W)&&J++;var z=navigator.mimeTypes?navigator.mimeTypes.length:0,G=X((z+navigator.userAgent.length).toString(36)+J.toString(36),4),Q=function(){return G},Y=0,Z=Math.pow(36,4);function ee(){return X((Math.random()*Z<<0).toString(36),4)}function te(){return'c'+(new Date).getTime().toString(36)+X((Y=Y<Z?Y:0,++Y-1).toString(36),4)+Q()+(ee()+ee())}te.fingerprint=Q;var ne=te,re=(function(){function t(){this.id=ne(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var n=t.prototype;return n.getUser=function(){return this._user},n.setUser=function(t,n,o){this._user={id:t,email:n,name:o}},n.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},n._track=function(t){this[t._handledState.unhandled?'_unhandled':'_handled']+=1},t})(),oe=function(){},ae=(function(){function u(t,n,o,s){var c=this;void 0===n&&(n=y.schema),void 0===o&&(o=[]),this._notifier=s,this._config={},this._schema=n,this._delivery={sendSession:oe,sendEvent:oe},this._logger={debug:oe,info:oe,warn:oe,error:oe},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=u,this.Event=$,this.Breadcrumb=j,this.Session=re,this._config=this._configure(t,o),w(o.concat(this._config.plugins),(function(t){t&&c._loadPlugin(t)})),this._depth=1;var l=this,f=this.notify;this.notify=function(){return f.apply(l,arguments)}}var c=u.prototype;return c.addMetadata=function(t,n,o){return q.add(this._metadata,t,n,o)},c.getMetadata=function(t,n){return q.get(this._metadata,t,n)},c.clearMetadata=function(t,n){return q.clear(this._metadata,t,n)},c.getContext=function(){return this._context},c.setContext=function(t){this._context=t},c._configure=function(t,o){var s=n(o,(function(t,n){return n&&n.configSchema?S({},t,n.configSchema):t}),this._schema),u=n(f(s),(function(n,o){var u=s[o].defaultValue(t[o]);void 0!==t[o]?s[o].validate(t[o])?s[o].allowPartialObject?n.config[o]=S(u,t[o]):n.config[o]=t[o]:(n.errors[o]=s[o].message,n.config[o]=u):n.config[o]=u;return n}),{errors:{},config:{}}),c=u.errors,l=u.config;if(s.apiKey){if(!l.apiKey)throw new Error('No Bugsnag API Key set');/^[0-9a-f]{32}$/i.test(l.apiKey)||(c.apiKey='should be a string of 32 hexadecimal characters')}return this._metadata=S({},l.metadata),this._user=S({},l.user),this._context=l.context,l.logger&&(this._logger=l.logger),l.onError&&(this._cbs.e=this._cbs.e.concat(l.onError)),l.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(l.onBreadcrumb)),l.onSession&&(this._cbs.s=this._cbs.s.concat(l.onSession)),f(c).length&&this._logger.warn(ie(c,t)),l},c.getUser=function(){return this._user},c.setUser=function(t,n,o){this._user={id:t,email:n,name:o}},c._loadPlugin=function(t){var n=t.load(this);return t.name&&(this._plugins["~"+t.name+"~"]=n),this},c.getPlugin=function(t){return this._plugins["~"+t+"~"]},c._setDelivery=function(t){this._delivery=t(this)},c.startSession=function(){var t=new re;return t.app.releaseStage=this._config.releaseStage,t.app.version=this._config.appVersion,t.app.type=this._config.appType,t._user=S({},this._user),U(this._cbs.s,t,'onSession',this._logger)?(this._logger.debug('Session not started due to onSession callback'),this):this._sessionDelegate.startSession(this,t)},c.addOnError=function(t,n){void 0===n&&(n=!1),this._cbs.e[n?'unshift':'push'](t)},c.removeOnError=function(t){this._cbs.e=o(this._cbs.e,(function(n){return n!==t}))},c._addOnSessionPayload=function(t){this._cbs.sp.push(t)},c.addOnSession=function(t){this._cbs.s.push(t)},c.removeOnSession=function(t){this._cbs.s=o(this._cbs.s,(function(n){return n!==t}))},c.addOnBreadcrumb=function(t,n){void 0===n&&(n=!1),this._cbs.b[n?'unshift':'push'](t)},c.removeOnBreadcrumb=function(t){this._cbs.b=o(this._cbs.b,(function(n){return n!==t}))},c.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},c.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},c.leaveBreadcrumb=function(n,o,u){if(n='string'==typeof n?n:'',u='string'==typeof u&&s(t,u)?u:'manual',o='object'==typeof o&&null!==o?o:{},n){var c=new j(n,o,u);U(this._cbs.b,c,'onBreadcrumb',this._logger)?this._logger.debug('Breadcrumb not attached due to onBreadcrumb callback'):(this._breadcrumbs.push(c),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs)))}},c.notify=function(t,n,o){void 0===o&&(o=oe);var s=$.create(t,!0,void 0,'notify()',this._depth+1,this._logger);this._notify(s,n,o)},c._notify=function(t,n,o){var c=this;if(void 0===o&&(o=oe),t.app=S({},t.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),t.context=t.context||this._context,t._metadata=S({},t._metadata,this._metadata),t._user=S({},t._user,this._user),t.breadcrumbs=this._breadcrumbs.slice(),null!==this._config.enabledReleaseStages&&!s(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn('Event not sent due to releaseStage/enabledReleaseStages configuration'),o(null,t);var l=t.severity,f=function(t){c._logger.error('Error occurred in onError callback, continuing anyway\u2026'),c._logger.error(t)};!(function(t,n,o,s){!(function(t,n,o){var s=0,u=function(){if(s>=t.length)return o(null,!0);n(t[s],(function(t,n){return t?o(t):!1===n?o(null,!1):(s++,void u())}))};u()})(t,(function(t,s){if('function'!=typeof t)return s(null);try{if(2!==t.length){var u=t(n);return u&&'function'==typeof u.then?u.then((function(t){return setTimeout((function(){return s(null,t)}))}),(function(t){setTimeout((function(){return o(t),s(null,!0)}))})):s(null,u)}t(n,(function(t,n){if(t)return o(t),s(null);s(null,n)}))}catch(t){o(t),s(null)}}),s)})([].concat(this._cbs.e).concat(n),t,f,(function(n,h){if(n&&f(n),!h)return c._logger.debug('Event not sent due to onError callback'),o(null,t);s(c._config.enabledBreadcrumbTypes,'error')&&u.prototype.leaveBreadcrumb.call(c,t.errors[0].errorClass,{errorClass:t.errors[0].errorClass,errorMessage:t.errors[0].errorMessage,severity:t.severity},'error'),l!==t.severity&&(t._handledState.severityReason={type:'userCallbackSetSeverity'}),t.unhandled!==t._handledState.unhandled&&(t._handledState.severityReason.unhandledOverridden=!0,t._handledState.unhandled=t.unhandled),c._session&&(c._session._track(t),t._session=c._session),c._delivery.sendEvent({apiKey:t.apiKey||c._config.apiKey,notifier:c._notifier,events:[t]},(function(n){return o(n,t)}))}))},u})(),ie=function(t,n){return new Error("Invalid configuration\n"+w(f(t),(function(o){return"  - "+o+" "+t[o]+", got "+se(n[o])})).join('\n\n'))},se=function(t){switch(typeof t){case'string':case'number':case'object':return JSON.stringify(t);default:return String(t)}},ue=ae,ce=function(t,n,o,s){var u=s&&s.redactedKeys?s.redactedKeys:[],c=s&&s.redactedPaths?s.redactedPaths:[];return JSON.stringify((function(t,n,o){var s=[],u=0;return(function t(c,l){function f(){return l.length>8&&u>25e3}if(u++,l.length>20)return"...";if(f())return"...";if(null===c||'object'!=typeof c)return c;if((function(t,n){for(var o=0,s=t.length;o<s;o++)if(t[o]===n)return!0;return!1})(s,c))return'[Circular]';if(s.push(c),'function'==typeof c.toJSON)try{u--;var h=t(c.toJSON(),l);return s.pop(),h}catch(t){return le(t)}var p;if((p=c)instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(p))){u--;var v=t({name:c.name,message:c.message},l);return s.pop(),v}if((function(t){return'[object Array]'===Object.prototype.toString.call(t)})(c)){for(var y=[],b=0,_=c.length;b<_;b++){if(f()){y.push("...");break}y.push(t(c[b],l.concat('[]')))}return s.pop(),y}var S={};try{for(var w in c)if(Object.prototype.hasOwnProperty.call(c,w))if(de(o,l.join('.'))&&fe(n,w))S[w]='[REDACTED]';else{if(f()){S[w]="...";break}S[w]=t(he(c,w),l.concat(w))}}catch(t){}return s.pop(),S})(t,[])})(t,u,c),n,o)};function le(t){return'[Throws: '+(t?t.message:'?')+']'}function de(t,n){for(var o=0,s=t.length;o<s;o++)if(0===n.indexOf(t[o]))return!0;return!1}function fe(t,n){for(var o=0,s=t.length;o<s;o++){if('string'==typeof t[o]&&t[o].toLowerCase()===n.toLowerCase())return!0;if(t[o]&&'function'==typeof t[o].test&&t[o].test(n))return!0}return!1}function he(t,n){try{return t[n]}catch(t){return le(t)}}var ge={},pe=['events.[].metaData','events.[].breadcrumbs.[].metaData','events.[].request'];ge.event=function(t,n){var o=ce(t,null,null,{redactedPaths:pe,redactedKeys:n});if(o.length>1e6&&(t.events[0]._metadata={notifier:"WARNING!\nSerialized payload was "+o.length/1e6+"MB (limit = 1MB)\nmetadata was removed"},(o=ce(t,null,null,{redactedPaths:pe,redactedKeys:n})).length>1e6))throw new Error('payload exceeded 1MB limit');return o},ge.session=function(t,n){var o=ce(t,null,null);if(o.length>1e6)throw new Error('payload exceeded 1MB limit');return o};var ve;ve=function(t,n){return void 0===n&&(n=window),{sendEvent:function(o,s){void 0===s&&(s=function(){});var u=me(t._config,'notify','4',n),c=new n.XDomainRequest;c.onload=function(){s(null)},c.open('POST',u),setTimeout((function(){try{c.send(ge.event(o,t._config.redactedKeys))}catch(n){t._logger.error(n),s(n)}}),0)},sendSession:function(o,s){void 0===s&&(s=function(){});var u=me(t._config,'sessions','1',n),c=new n.XDomainRequest;c.onload=function(){s(null)},c.open('POST',u),setTimeout((function(){try{c.send(ge.session(o,t._config.redactedKeys))}catch(n){t._logger.error(n),s(n)}}),0)}}};var me=function(t,n,o,s){var u=JSON.parse(JSON.stringify(new Date));return ye(t.endpoints[n],s.location.protocol)+"?apiKey="+encodeURIComponent(t.apiKey)+"&payloadVersion="+o+"&sentAt="+encodeURIComponent(u)},ye=ve._matchPageProtocol=function(t,n){return'http:'===n?t.replace(/^https:/,'http:'):t},be=function(t,n){return void 0===n&&(n=window),{sendEvent:function(o,s){void 0===s&&(s=function(){});try{var u=t._config.endpoints.notify,c=new n.XMLHttpRequest;c.onreadystatechange=function(){c.readyState===n.XMLHttpRequest.DONE&&s(null)},c.open('POST',u),c.setRequestHeader('Content-Type','application/json'),c.setRequestHeader('Bugsnag-Api-Key',o.apiKey||t._config.apiKey),c.setRequestHeader('Bugsnag-Payload-Version','4'),c.setRequestHeader('Bugsnag-Sent-At',(new Date).toISOString()),c.send(ge.event(o,t._config.redactedKeys))}catch(n){t._logger.error(n)}},sendSession:function(o,s){void 0===s&&(s=function(){});try{var u=t._config.endpoints.sessions,c=new n.XMLHttpRequest;c.onreadystatechange=function(){c.readyState===n.XMLHttpRequest.DONE&&s(null)},c.open('POST',u),c.setRequestHeader('Content-Type','application/json'),c.setRequestHeader('Bugsnag-Api-Key',t._config.apiKey),c.setRequestHeader('Bugsnag-Payload-Version','1'),c.setRequestHeader('Bugsnag-Sent-At',(new Date).toISOString()),c.send(ge.session(o,t._config.redactedKeys))}catch(n){t._logger.error(n)}}}},_e=new Date,Se={load:function(t){t.addOnError((function(t){var n=new Date;t.app.duration=n-_e}),!0)}},we=function(t,n){var o='000000000'+t;return o.substr(o.length-n)},Ee=window,Oe=0;for(var Ne in Ee)Object.hasOwnProperty.call(Ee,Ne)&&Oe++;var je=navigator.mimeTypes?navigator.mimeTypes.length:0,ke=we((je+navigator.userAgent.length).toString(36)+Oe.toString(36),4),Be=function(){return ke},xe=0,Te=Math.pow(36,4);function Le(){return we((Math.random()*Te<<0).toString(36),4)}function Re(){return'c'+(new Date).getTime().toString(36)+we((xe=xe<Te?xe:0,++xe-1).toString(36),4)+Be()+(Le()+Le())}Re.fingerprint=Be;var qe=Re,Me=function(t,n){return void 0===t&&(t=navigator),void 0===n&&(n=window.screen),{load:function(o){var s={locale:t.browserLanguage||t.systemLanguage||t.userLanguage||t.language,userAgent:t.userAgent};n&&n.orientation&&n.orientation.type?s.orientation=n.orientation.type:s.orientation=document.documentElement.clientWidth>document.documentElement.clientHeight?'landscape':'portrait',o._config.generateAnonymousId&&(s.id=(function(){try{var t=window.localStorage,n=t.getItem("bugsnag-anonymous-id");return n&&/^c[a-z0-9]{20,32}$/.test(n)||(n=qe(),t.setItem("bugsnag-anonymous-id",n)),n}catch(t){}})()),o.addOnSession((function(t){t.device=S({},t.device,s)})),o.addOnError((function(t){t.device=S({},t.device,s,{time:new Date})}),!0)},configSchema:{generateAnonymousId:{validate:function(t){return!0===t||!1===t},defaultValue:function(){return!0},message:'should be true|false'}}}},Ce=function(t){return void 0===t&&(t=window),{load:function(n){n.addOnError((function(n){n.request&&n.request.url||(n.request=S({},n.request,{url:t.location.href}))}),!0)}}},De={load:function(t){t._sessionDelegate=Ae}},Ae={startSession:function(t,n){var o=t;return o._session=n,o._pausedSession=null,null===o._config.enabledReleaseStages||s(o._config.enabledReleaseStages,o._config.releaseStage)?(o._delivery.sendSession({notifier:o._notifier,device:n.device,app:n.app,sessions:[{id:n.id,startedAt:n.startedAt,user:n._user}]}),o):(o._logger.warn('Session not sent due to releaseStage/enabledReleaseStages configuration'),o)},resumeSession:function(t){return t._pausedSession?(t._session=t._pausedSession,t._pausedSession=null,t):t.startSession()},pauseSession:function(t){t._pausedSession=t._session,t._session=null}},Pe={load:function(t){t._config.collectUserIp||t.addOnError((function(t){t._user&&void 0===t._user.id&&delete t._user.id,t._user=S({id:'[REDACTED]'},t._user),t.request=S({clientIp:'[REDACTED]'},t.request)}))},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:'should be true|false',validate:function(t){return!0===t||!1===t}}}},Ve={load:function(t){var o=/^dev(elopment)?$/.test(t._config.releaseStage);t._config.enabledBreadcrumbTypes&&s(t._config.enabledBreadcrumbTypes,'log')&&!o&&w(Ie,(function(o){var s=console[o];console[o]=function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];t.leaveBreadcrumb('Console output',n(c,(function(t,n,o){var s='[Unknown value]';try{s=String(n)}catch(t){}if('[object Object]'===s)try{s=JSON.stringify(n)}catch(t){}return t["["+o+"]"]=s,t}),{severity:0===o.indexOf('group')?'log':o}),'log'),s.apply(console,c)},console[o]._restore=function(){console[o]=s}}))}},Ie=o(['log','debug','info','warn','error'],(function(t){return'undefined'!=typeof console&&'function'==typeof console[t]})),He=function(t,s){return void 0===t&&(t=document),void 0===s&&(s=window),{load:function(u){if(u._config.trackInlineScripts){var c=s.location.href,l='',f=!!t.attachEvent?'complete'===t.readyState:'loading'!==t.readyState,h=function(){return t.documentElement.outerHTML};l=h();var p=t.onreadystatechange;t.onreadystatechange=function(){'interactive'===t.readyState&&(l=h(),f=!0);try{p.apply(this,arguments)}catch(t){}};var v=null,y=function(t){v=t},b=function(){var n=t.currentScript||v;if(!n&&!f){var o=t.scripts||t.getElementsByTagName('script');n=o[o.length-1]}return n};u.addOnError((function(t){t.errors[0].stacktrace=o(t.errors[0].stacktrace,(function(t){return!/__trace__$/.test(t.method)}));var s=t.errors[0].stacktrace[0];if(!s||!s.file||s.file.replace(/#.*$/,'')===c.replace(/#.*$/,'')){var u=b();if(u){var p=u.innerHTML;t.addMetadata('script','content',p.length<=5e5?p:p.substr(0,5e5)),s&&s.lineNumber&&(s.code=(function(t){f&&l||(l=h());var o=['\x3c!-- DOC START --\x3e'].concat(l.split('\n')),s=t-1,u=Math.max(s-3,0),c=Math.min(s+3,o.length);return n(o.slice(u,c),(function(t,n,o){return t[u+1+o]=n.length<=200?n:n.substr(0,200),t}),{})})(s.lineNumber))}}}),!0);var _=w(['setTimeout','setInterval','setImmediate','requestAnimationFrame'],(function(t){return Ke(s,t,(function(t){return S(t,(function(t){return{get:function(){return t[0]},replace:function(n){t[0]=n}}}))}))}))[0];w(['EventTarget','Window','Node','ApplicationCache','AudioTrackList','ChannelMergerNode','CryptoOperation','EventSource','FileReader','HTMLUnknownElement','IDBDatabase','IDBRequest','IDBTransaction','KeyOperation','MediaController','MessagePort','ModalWindow','Notification','SVGElementInstance','Screen','TextTrack','TextTrackCue','TextTrackList','WebSocket','WebSocketWorker','Worker','XMLHttpRequest','XMLHttpRequestEventTarget','XMLHttpRequestUpload'],(function(t){s[t]&&s[t].prototype&&Object.prototype.hasOwnProperty.call(s[t].prototype,'addEventListener')&&(Ke(s[t].prototype,'addEventListener',(function(t){return S(t,$e)})),Ke(s[t].prototype,'removeEventListener',(function(t){return S(t,$e,!0)})))}))}function S(t,n,o){return void 0===o&&(o=!1),function(){var s=[].slice.call(arguments);try{var u=n(s),c=u.get();if(o&&t.apply(this,s),'function'!=typeof c)return t.apply(this,s);if(c.__trace__)u.replace(c.__trace__);else{var l=b();c.__trace__=function(){y(l),_((function(){y(null)}),0);var t=c.apply(this,arguments);return y(null),t},c.__trace__.__trace__=c.__trace__,u.replace(c.__trace__)}}catch(t){}if(t.apply)return t.apply(this,s);switch(s.length){case 1:return t(s[0]);case 2:return t(s[0],s[1]);default:return t()}}}},configSchema:{trackInlineScripts:{validate:function(t){return!0===t||!1===t},defaultValue:function(){return!0},message:'should be true|false'}}}};function Ke(t,n,o){var s=t[n];if(!s)return s;var u=o(s);return t[n]=u,s}function $e(t){var n=!!t[1]&&'function'==typeof t[1].handleEvent;return{get:function(){return n?t[1].handleEvent:t[1]},replace:function(o){n?t[1].handleEvent=o:t[1]=o}}}var Ue=function(t){return void 0===t&&(t=window),{load:function(n){'addEventListener'in t&&n._config.enabledBreadcrumbTypes&&s(n._config.enabledBreadcrumbTypes,'user')&&t.addEventListener('click',(function(o){var s,u;try{s=Xe(o.target),u=(function t(n,o){var s=[n.tagName];n.id&&s.push('#'+n.id);n.className&&n.className.length&&s.push("."+n.className.split(' ').join('.'));if(!o.document.querySelectorAll||!Array.prototype.indexOf)return s.join('');try{if(1===o.document.querySelectorAll(s.join('')).length)return s.join('')}catch(t){return s.join('')}if(n.parentNode.childNodes.length>1){var u=Array.prototype.indexOf.call(n.parentNode.childNodes,n)+1;s.push(":nth-child("+u+")")}return 1===o.document.querySelectorAll(s.join('')).length?s.join(''):n.parentNode?t(n.parentNode,o)+" > "+s.join(''):s.join('')})(o.target,t)}catch(t){s='[hidden]',u='[hidden]',n._logger.error('Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z')}n.leaveBreadcrumb('UI click',{targetText:s,targetSelector:u},'user')}),!0)}}},Xe=function(t){var n,o,s=t.textContent||t.innerText||'';return s||'submit'!==t.type&&'button'!==t.type||(s=t.value),s=s.replace(/^\s+|\s+$/g,''),o=140,(n=s)&&n.length<=o?n:n.slice(0,o-"(...)".length)+"(...)"};var Fe;Fe=function(t){return void 0===t&&(t=window),{load:function(n){if('addEventListener'in t&&n._config.enabledBreadcrumbTypes&&s(n._config.enabledBreadcrumbTypes,'navigation')){var o=function(t){return function(){return n.leaveBreadcrumb(t,{},'navigation')}};t.addEventListener('pagehide',o('Page hidden'),!0),t.addEventListener('pageshow',o('Page shown'),!0),t.addEventListener('load',o('Page loaded'),!0),t.document.addEventListener('DOMContentLoaded',o('DOMContentLoaded'),!0),t.addEventListener('load',(function(){return t.addEventListener('popstate',o('Navigated back'),!0)})),t.addEventListener('hashchange',(function(o){var s=o.oldURL?{from:Je(o.oldURL,t),to:Je(o.newURL,t),state:ze(t)}:{to:Je(t.location.href,t)};n.leaveBreadcrumb('Hash changed',s,'navigation')}),!0),t.history.replaceState&&We(n,t.history,'replaceState',t),t.history.pushState&&We(n,t.history,'pushState',t),n.leaveBreadcrumb('Bugsnag loaded',{},'navigation')}}}};var Je=function(t,n){var o=n.document.createElement('A');return o.href=t,""+o.pathname+o.search+o.hash},We=function(t,n,o,s){var u=n[o];n[o]=function(c,l,f){t.leaveBreadcrumb("History "+o,(function(t,n,o,s){var u=Je(t.location.href,t);return{title:o,state:n,prevState:ze(t),to:s||u,from:u}})(s,c,l,f),'navigation'),'function'==typeof t.resetEventCount&&t.resetEventCount(),t._config.autoTrackSessions&&t.startSession(),u.apply(n,[c,l].concat(void 0!==f?f:[]))}},ze=function(t){try{return t.history.state}catch(t){}},Ge=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=window);return{load:function(o){if(o._config.enabledBreadcrumbTypes&&s(o._config.enabledBreadcrumbTypes,'request')){var u=[o._config.endpoints.notify,o._config.endpoints.sessions].concat(t);!(function(){if(!('addEventListener'in n.XMLHttpRequest.prototype))return;var t=n.XMLHttpRequest.prototype.open;n.XMLHttpRequest.prototype.open=function(n,o){this["BS~~U"]=o,this["BS~~M"]=n,this["BS~~S"]&&(this.removeEventListener('load',f),this.removeEventListener('error',h)),this.addEventListener('load',f),this.addEventListener('error',h),this["BS~~S"]=!0,t.apply(this,arguments)}})(),(function(){if(!('fetch'in n)||n.fetch.polyfill)return;var t=n.fetch;n.fetch=function(){var n,o=arguments,s=arguments[0],u=arguments[1],f=null;return s&&'object'==typeof s?(f=s.url,u&&'method'in u?n=u.method:s&&'method'in s&&(n=s.method)):(f=s,u&&'method'in u&&(n=u.method)),void 0===n&&(n='GET'),new Promise((function(s,u){t.apply(void 0,o).then((function(t){c(t,n,f),s(t)})).catch((function(t){l(n,f),u(t)}))}))}})();var c=function(t,n,s){var u={status:t.status,request:n+" "+s};t.status>=400?o.leaveBreadcrumb('fetch() failed',u,"request"):o.leaveBreadcrumb('fetch() succeeded',u,"request")},l=function(t,n){o.leaveBreadcrumb('fetch() error',{request:t+" "+n},"request")}}function f(){if(!s(u,this["BS~~U"])){var t={status:this.status,request:this["BS~~M"]+" "+this["BS~~U"]};this.status>=400?o.leaveBreadcrumb('XMLHttpRequest failed',t,"request"):o.leaveBreadcrumb('XMLHttpRequest succeeded',t,"request")}}function h(){s(u,this["BS~~U"])||o.leaveBreadcrumb('XMLHttpRequest error',{request:this["BS~~M"]+" "+this["BS~~U"]},"request")}}}},Qe={load:function(t){var n=0;t.addOnError((function(o){if(n>=t._config.maxEvents)return!1;n++})),t.resetEventCount=function(){n=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:'should be a positive integer \u2264100',validate:function(t){return h(1,100)(t)}}}},Ye={},Ze=(Ye={load:function(t){t.addOnError((function(t){var o=n(t.errors,(function(t,n){return t.concat(n.stacktrace)}),[]);w(o,(function(t){t.file=Ze(t.file)}))}))}})._strip=function(t){return'string'==typeof t?t.replace(/\?.*$/,'').replace(/#.*$/,''):t},et=function(t){return void 0===t&&(t=window),{load:function(n){if(n._config.autoDetectErrors&&n._config.enabledErrorTypes.unhandledExceptions){var o=t.onerror;t.onerror=function(t,s,u,c,l){if(0===u&&/Script error\.?/.test(t))n._logger.warn('Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z');else{var f,h={severity:'error',unhandled:!0,severityReason:{type:'unhandledException'}};if(l)f=n.Event.create(l,!0,h,'window onerror',1),tt(f.errors[0].stacktrace,s,u,c);else if('object'!=typeof t||null===t||s&&'string'==typeof s||u||c||l)f=n.Event.create(t,!0,h,'window onerror',1),tt(f.errors[0].stacktrace,s,u,c);else{var p=t.type?"Event: "+t.type:'Error',v=t.message||t.detail||'';(f=n.Event.create({name:p,message:v},!0,h,'window onerror',1)).originalError=t,f.addMetadata('window onerror',{event:t,extraParameters:s})}n._notify(f)}'function'==typeof o&&o.apply(this,arguments)}}}}},tt=function(t,n,o,s){t[0]||t.push({});var u=t[0];u.file||'string'!=typeof n||(u.file=n),!u.lineNumber&&nt(o)&&(u.lineNumber=o),u.columnNumber||(nt(s)?u.columnNumber=s:window.event&&nt(window.event.errorCharacter)&&(u.columnNumber=window.event.errorCharacter))},nt=function(t){return'number'==typeof t&&'NaN'!==String.call(t)},rt=function(t){return void 0===t&&(t=window),{load:function(n){if(n._config.autoDetectErrors&&n._config.enabledErrorTypes.unhandledRejections){var o=function(t){var o=t.reason,s=!1;try{t.detail&&t.detail.reason&&(o=t.detail.reason,s=!0)}catch(t){}var u=n.Event.create(o,!1,{severity:'error',unhandled:!0,severityReason:{type:'unhandledPromiseRejection'}},'unhandledrejection handler',1,n._logger);s&&w(u.errors[0].stacktrace,ot(o)),n._notify(u,(function(t){var n;L(t.originalError)&&!t.originalError.stack&&t.addMetadata('unhandledRejection handler',((n={})[Object.prototype.toString.call(t.originalError)]={name:t.originalError.name,message:t.originalError.message,code:t.originalError.code},n))}))};'addEventListener'in t?t.addEventListener('unhandledrejection',o):t.onunhandledrejection=function(t,n){o({detail:{reason:t,promise:n}})},o}}}},ot=function(t){return function(n){n.file!==t.toString()&&n.method&&(n.method=n.method.replace(/^\s+/,''))}},at={},it=S({},y.schema,O),st={_client:null,createClient:function(t){'string'==typeof t&&(t={apiKey:t}),t||(t={});var n,o=[Se,Me(),(void 0===n&&(n=window),{load:function(t){t.addOnError((function(t){void 0===t.context&&(t.context=n.location.pathname)}),!0)}}),Ce(),Qe,De,Pe,Ye,et(),rt(),Fe(),Ue(),Ge(),Ve,He()],s=new ue(t,it,o,{name:"Bugsnag JavaScript",version:"7.7.0",url:"https://github.com/bugsnag/bugsnag-js"});return s._setDelivery(window.XDomainRequest?ve:be),s._logger.debug('Loaded!'),s._config.autoTrackSessions?s.startSession():s},start:function(t){return st._client?(st._client._logger.warn('Bugsnag.start() was called more than once. Ignoring.'),st._client):(st._client=st.createClient(t),st._client)}};return w(['resetEventCount'].concat(f(ue.prototype)),(function(t){/^_/.test(t)||(st[t]=function(){if(!st._client)return console.log("Bugsnag."+t+"() was called before Bugsnag.start()");st._client._depth+=1;var n=st._client[t].apply(st._client,arguments);return st._client._depth-=1,n})})),(at=st).Client=ue,at.Event=$,at.Session=re,at.Breadcrumb=j,at.default=st,at}))}),"6b8150",[]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/repo-cache/node_modules/@bugsnag/js/browser/notifier.3667d3f92a.js.map