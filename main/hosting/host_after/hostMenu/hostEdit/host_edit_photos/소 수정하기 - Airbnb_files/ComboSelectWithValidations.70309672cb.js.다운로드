__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={RequiredIfFieldClientValidation:babelHelpers.interopRequireDefault(r(d[0])).default};e.default=t}),"3dbace",["c57cf8"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=babelHelpers.interopRequireWildcard(r(d[0])),t=r(d[1]),n=babelHelpers.interopRequireDefault(r(d[2])),s=babelHelpers.interopRequireDefault(r(d[3])),o=babelHelpers.interopRequireDefault(r(d[4])),u=babelHelpers.interopRequireDefault(r(d[5])),c=babelHelpers.interopRequireDefault(r(d[6])),p=babelHelpers.interopRequireDefault(r(d[7])),f=babelHelpers.interopRequireDefault(r(d[8])),b=r(d[9]);var v=(0,t.withStyles)(({dls19:l})=>({error:{marginTop:l.spacing.micro8px}}))((function({section:t,sectionId:v,css:h,styles:R}){const{selectSections:D,validations:q}=t,[x,H]=(0,l.useState)([]),[j,S]=(0,l.useState)((null==D?void 0:D.map(l=>null==l?void 0:l.value))||[]),y=x&&x.length>0,_=(0,l.useMemo)(()=>new Map,[]),I=(0,f.default)(q||[]),{clearData:$,updateData:w}=(0,n.default)({sectionId:v||'',valueType:'STRING_ARRAY'});(0,l.useEffect)(()=>()=>$(),[]);const E=(0,l.useCallback)((l,t)=>{const n=[...j];n[l]=t,S(n),w(n),null==I||I.forEach(l=>{const{isValid:t,errors:s}=l.validate(n,"",_);H(t?[]:s)})},[j,S,w,I,"",_]);return D?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.default,{children:D.map((l,t)=>{var n;const s=`${v}-combo-row-${t}`;return l&&(0,b.jsx)(c.default,{children:(0,b.jsx)(u.default,{id:l.selectId||s,label:l.label,value:j[t]||'',onChange:l=>l&&E(t,l),invalid:!!y&&!j[t],children:null===(n=l.options)||void 0===n?void 0:n.map(l=>l&&(0,b.jsx)("option",{value:l.value||'',children:l.title},l.value+"-option"))})},s)})}),y&&(null==x?void 0:x.map((t,n)=>{const s=`${v}-error-${n}`;return(0,l.createElement)("div",{...h(R.error),key:s},(0,b.jsx)(p.default,{id:s,children:t.errorPhrase}))}))]}):(0,s.default)({expectedFields:['selectSections'],response:t})}));e.default=v}),"49fc16",["d7ed8e","bf663a","d488f4","b6cec9","3f191a","82dd6b","0c7eee","550911","7dfdba","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return(null==n?void 0:n.map(n=>{const{__typename:o}=n,u=t.default[o];if(!u)throw new Error(`Validator for ${o} not found.`);return new u(n)}))||[]};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"7dfdba",["3dbace"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(t){var n;this.defaultErrors=void 0,this.validationConfig=void 0,this.validationConfig=t,this.defaultErrors=null!==(n=this.getErrors('UNDEFINED'))&&void 0!==n?n:[{__typename:'GhostPlatformClientValidationError',errorPhrase:'Error undefined',errorType:'UNDEFINED',sectionId:null}]}getAllParticipatingSectionIds(){const{errors:t}=this.validationConfig;return(null==t?void 0:t.map(t=>{var n;return null!==(n=null==t?void 0:t.sectionId)&&void 0!==n?n:''}))||[]}getValidationMode(t){const{validateOn:n,revalidateOn:l}=this.validationConfig;return(t?l:n)||['ON_SUBMIT']}getErrors(t){const{errors:n}=this.validationConfig;if(null==n||!n.length)return null;const l=n.filter(n=>(null==n?void 0:n.errorType)===t);return(null==l?void 0:l.length)>0?l:null}getFieldValue(t,n){const l=Array.from(null==n?void 0:n.values());return null==l?void 0:l.find(n=>n.fieldId===t)}}}),"8d160c",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=babelHelpers.interopRequireDefault(r(d[0]));class t extends l.default{shouldValidate(l){return!0}validate(l){return l.includes(null)&&!l.every(l=>null===l)?{isValid:!1,errors:this.defaultErrors}:{isValid:!0}}}var u=t;e.default=u}),"c57cf8",["8d160c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertToMutationValue=t,e.default=function({sectionId:n,valueType:s,fieldId:o,value:c}){const v=(0,l.useContext)(u.default),A=(0,l.useRef)(!1),{mutations:V,isSubmitting:T,isDirty:b,isValid:R,onFieldChange:f,onFieldBlur:I,onFieldRegister:y,initialValues:D,useInitialValues:k=!1}=v,E=(0,l.useCallback)(()=>(function(l,u,t,n){var s,o,c,v,A,V,T;const b=l.get(null!=u?u:t);switch(n){case'BOOLEAN':return null==b||null===(s=b.value)||void 0===s?void 0:s.booleanValue;case'FLOAT':return null==b||null===(o=b.value)||void 0===o?void 0:o.floatValue;case'INTEGER':return null==b||null===(c=b.value)||void 0===c?void 0:c.intValue;case'ID':return null==b||null===(v=b.value)||void 0===v?void 0:v.idValue;case'STRING':return null==b||null===(A=b.value)||void 0===A?void 0:A.stringValue;case'STRING_ARRAY':return null==b||null===(V=b.value)||void 0===V?void 0:V.stringArrayValue;case'DATA_ARRAY':return null==b||null===(T=b.value)||void 0===T?void 0:T.dataArrayValue;default:return null}})(V,n,o,s),[V,n,o,s]);if(k&&!A.current&&o){const l=D&&o?D[o]:c;if(null==y||y(o,l),A.current=!0,void 0!==l){const u={fieldId:o,mutationType:'UPSERT',sectionId:n,value:t(l,s)};V.has(n)||null==V||V.set(n,u)}}const p=(0,l.useCallback)(l=>{v.isDirty=!0,null==V||V.set(n,{fieldId:o,mutationType:'UPSERT',sectionId:n,value:t(l,s)}),null==f||f(o||'',l,V)},[o,v,V,n,s,f]),N=(0,l.useCallback)(()=>{v.isDirty=!0,null==V||V.set(n,{fieldId:o,mutationType:'DELETE',sectionId:n})},[o,v,V,n]),S=(0,l.useCallback)(()=>{null==V||V.delete(n),null==f||f(o||'',null,V)},[V,n,o,f]),_=(0,l.useCallback)(()=>{null==I||I(o||'')},[I,o]);return{mutations:V,updateData:p,deleteData:N,clearData:S,isSubmitting:T,isDirty:b,isValid:R,onBlur:_,getValue:E}};var l=r(d[0]),u=babelHelpers.interopRequireDefault(r(d[1]));function t(l,u){const t={valueType:u};switch(u){case'BOOLEAN':t.booleanValue=l;break;case'FLOAT':t.floatValue=l;break;case'INTEGER':t.intValue=l;break;case'ID':t.idValue=l;break;case'STRING':t.stringValue=l;break;case'STRING_ARRAY':t.stringArrayValue=l;break;case'DATA_ARRAY':t.dataArrayValue=l;break;case'DATE':t.dateValue=l}return t}}),"d488f4",["d7ed8e","1a0081"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/gp-myp-sections/sections/ComboSelectWithValidations/ComboSelectWithValidations.257e9c23df.js.map