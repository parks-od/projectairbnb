__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PanelLayout=void 0,e.createPanelLayoutRoute=function({routes:t,...o}){var n,l,u;const s=null===(n=o.options)||void 0===n?void 0:n.canClientRouteTo,c=[];return null==t||t.forEach(t=>{c.push({...t,options:{...t.options,canClientRouteTo:s}})}),null===(l=o.options)||void 0===l||null===(u=l.redirects)||void 0===u||u.forEach(({id:t,redirect:o,...n})=>{c.push({...n,options:{canClientRouteTo:s},component:()=>null})}),{...o,inclusive:!0,isPanelLayout:!0,routes:c,serverConfig:null}},Object.defineProperty(e,"withAsyncPanel",{enumerable:!0,get:function(){return o.default}});var t=babelHelpers.interopRequireDefault(r(d[0])),o=babelHelpers.interopRequireDefault(r(d[1]));babelHelpers.interopRequireDefault(r(d[2]));const n=(0,o.default)({loader:(0,t.default)(()=>r(d[4])(d[3],"./components/PanelLayout").then(babelHelpers.interopRequireWildcard))});e.PanelLayout=n}),"09996c",["8ce522","e4d3aa","e4edba","7c1b60","b8ad06"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getApolloClientConstructor=void 0,e.useNiobeApolloClient=function({skip:f=!1,context:v}={}){var b,A;f||(0,n.collectAsyncChunks)(c().niobeApolloClientLoader,v);const{niobeApolloClient:x}=(0,t.useContext)(o.HyperloopProvidedContext),{niobeApolloClientData:y=(null===(b=(0,C().getState)())||void 0===b?void 0:b.niobeApolloClientData)}=(0,t.useContext)(l.HyperloopPropsContext),{niobeApolloClient:_}=null!==(A=(0,t.useContext)(u().NiobeClientReactContext))&&void 0!==A?A:{},[D,H]=(0,t.useState)(()=>{var t;return null!==(t=null!=x?x:_)&&void 0!==t?t:p.value&&(0,s().default)(p.value,y)});return(0,t.useEffect)(()=>{let t=!0;return D||f||p().then(n=>{t&&H((0,s().default)(n,y))}),()=>{t=!1}},[]),D};var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]);function u(){const t=r(d[4]);return u=function(){return t},t}function c(){const t=r(d[5]);return c=function(){return t},t}function s(){const t=babelHelpers.interopRequireDefault(r(d[6]));return s=function(){return t},t}function C(){const t=r(d[7]);return C=function(){return t},t}const p=async()=>{const t=await(0,c().niobeApolloClientLoader)();return p.value=t,t};e.getApolloClientConstructor=p}),"1638e7",["d7ed8e","4b7bbf","75993a","f1bcbf","8915ba","352233","2d9116","c8a8e0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KRAKEN_TEST_DESTINATIONS_HEADER=void 0;e.KRAKEN_TEST_DESTINATIONS_HEADER='X-Kraken-Test-Destinations'}),"2152b5",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,u){return t};const t=[]}),"281200",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDev=function(){if(null===n){const o=g.document&&g.document.body&&g.document.body.className;n=/\bdevelopment\b/.test(String(o))}return n},e.log=function(...n){if('undefined'==typeof console||!console.log)return;Function.apply.call(console.log,console,n)},e.warn=function(...n){if('undefined'==typeof console||!console.warn)return;Function.apply.call(console.warn,console,n)};let n=null}),"2adc65",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,o){const u=(0,n().getSharedNiobeOptions)(window);return new t({data:o,...u})}}),"2d9116",["c8a8e0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.niobeMinimalistClientLoader=e.niobeApolloClientLoader=void 0;var o=r(d[0]);const l=(0,o.normalizeLoader)(()=>r(d[2])(d[1],"./apollo/core").then(babelHelpers.interopRequireWildcard));e.niobeApolloClientLoader=l;const n=(0,o.normalizeLoader)(()=>r(d[2])(d[3],"./minimalist").then(babelHelpers.interopRequireWildcard));e.niobeMinimalistClientLoader=n}),"352233",["4b299b","1da8ab","b8ad06","a273f6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceWebPageMetricsEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Performance:PerformanceWebPageMetricsEvent:1.0.0',event_name:'performance_web_page_metrics'},propTypes:{}};e.PerformanceWebPageMetricsEvent=n,n.fullyQualifiedName='Performance.v1.PerformanceWebPageMetricsEvent'}),"39b0bd",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalComponentActionEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalComponentActionEvent:2.0.0',event_name:'universal_component_action'},propTypes:{}};e.UniversalComponentActionEvent=n,n.fullyQualifiedName='Universal.v2.UniversalComponentActionEvent'}),"3c2344",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,n){const l=(0,t.default)(u,n);if(l&&l[0])return l[0];return null};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"40ae24",["390519"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeLoader=e.getDefaultExport=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),l=babelHelpers.interopRequireDefault(r(d[1]));const o=t.default;e.getDefaultExport=o;const u=l.default;e.normalizeLoader=u}),"4b299b",["91fe65","8ce522"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const s=babelHelpers.interopRequireDefault(r(d[0]));return n=function(){return s},s}Object.defineProperty(e,"__esModule",{value:!0}),e.asyncChunksContextTypes=void 0,e.collectAsyncChunks=function(n,s){null==s||s.asyncChunks},e.pushAsyncChunks=void 0;const s={asyncChunks:n().default.instanceOf(Set),staticAsyncChunks:n().default.instanceOf(Set)};e.asyncChunksContextTypes=s;e.pushAsyncChunks=(n,s)=>{}}),"4b7bbf",["590f40"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={};e.default=void 0;var u=babelHelpers.interopRequireWildcard(r(d[0]));Object.keys(u).forEach((function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(t,l)||l in e&&e[l]===u[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return u[l]}}))}));var l=u.default;e.default=l}),"4cdbd9",["8c0e18"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertCustomRouteConfig=function t(n,o=""){return n.map(n=>{let s;return s='function'==typeof n.path?u(n.path(o)):u(`${o}${u(n.path)}`),{path:s,component:n.component,exact:n.exact,key:n.key,routes:n.routes?t(n.routes,s):[],header:n.header,footer:n.footer,options:n.options}})},e.generateAsyncRouteComponent=function({loader:u,Placeholder:l=null,preloadAdditionalAsyncChunks:p=[]}){let c=null;class h extends t.default.Component{constructor(t,o){super(t,o),this.state=void 0,this.mounted=!0,p&&p.length>0&&(0,n.pushAsyncChunks)(p,o),(0,n.collectAsyncChunks)(u,o),this.updateState=this.updateState.bind(this),this.state={Component:c||u.value||null}}static load(){return u().then(t=>(c=(0,o.getDefaultExport)(t),c))}static getChunkName(){if(null===c)throw new ReferenceError('Component must be preloaded before we can access the chunk name.');return u().chunkName}UNSAFE_componentWillMount(){this.mounted=!0,h.load().then(this.updateState)}UNSAFE_componentWillUnmount(){this.mounted=!1}updateState(){let t={};c&&this.state.Component!==c&&(t={...t,Component:c}),Object.keys(t).length>0&&this.mounted&&this.setState(t)}render(){const{Component:t}=this.state;return t?(0,s.jsx)(t,{...this.props}):l?(0,s.jsx)(l,{...this.props}):null}}return h.Placeholder=l,h.contextTypes={...n.asyncChunksContextTypes},h};var t=babelHelpers.interopRequireDefault(r(d[0])),n=(babelHelpers.interopRequireDefault(r(d[1])),r(d[2])),o=r(d[3]),s=(babelHelpers.interopRequireDefault(r(d[4])),r(d[5]));function u(t=""){let n=t.replace('//','/');return n.startsWith('/')||(n="/"+n),n}}),"4d6e6f",["d7ed8e","390519","4b7bbf","4b299b","40ae24","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeMeasurementEvent=void 0;e.NativeMeasurementEvent={defaultProps:{schema:'com.airbnb.jitney.event.logging.Performance:NativeMeasurementEvent:2.0.0',event_name:'native_measurement'},propTypes:{}}}),"51757f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({isDev:n,hyperloopEnv:t}){if(n&&'false'!==n)return'development';if(!t)return null;const l=t.match(/-(\w+|shared-development)(-[0-9]+)?$/);let u;if(!l)return null;u=l[1];return u},e.getHyperloopName=function(n){if(!n)return null;const t=n.match(/^(\w|-)+?loop/);if(!t)return null;return t[0]}}),"553d67",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBrowserMetricReporter=function(n){const l=null===n.tier?'':n.tier,u=null===n.loop?'':n.loop,c={environment:'browser',tier:l,loop:u},s=window.performance.now.bind(window.performance);return{histogram:(n,l,u)=>{t.default.getBootstrap('enable_nioble_client_histogram')&&(function(...t){Math.random()<=.002&&(0,o.airdogDistribution)(...t)})(n,l,{rateLimit:"0.002",...c,...u})},increment:(t,n,l)=>{(0,o.airdogCount)(t,n,{...c,...l})},now:s}};var o=r(d[0]),t=babelHelpers.interopRequireDefault(r(d[1]))}),"5a6afa",["08b665","6b945b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withGraphql=function({prepare:v,extraProps:f}={}){return P=>{var C;function h(n,o){const t=(0,l().useNiobeClients)({context:o}),C=(0,u().usePrepare)({prepareLoader:v,context:o}),{match:b,location:x}=n,y=(0,c().usePrepareProps)({niobeClients:t,prepare:C,preparePropsCacheKey:h,location:x,extraProps:f,match:b});if(null===t||null===C){var N;null===(N=P.load)||void 0===N||N.call(P);const{Placeholder:o}=P;return o?(0,p.jsx)(o,{...n}):null}return void 0!==C&&null===y?null:(0,p.jsx)(s().NiobeClientReactContext.Provider,{value:t,children:(0,p.jsx)(P,{...n,...y})})}return h.load=async function(){const n=h.loadComponent(),o=h.loadPrepare(),t=await h.loadClientConstructors(),[l]=await Promise.all([n,o,...t]);return l},h.loadClientConstructors=function(){return(0,l().loadNiobeClientConstructors)()},h.loadComponent=async function(){var n,o,t;const[l,u]=await Promise.all([null===(n=P.loadComponent)||void 0===n?void 0:n.call(P),null===(o=P.load)||void 0===o?void 0:o.call(P)]);return null!==(t=null!=l?l:u)&&void 0!==t?t:()=>null},h.loadPrepare=async function(){var n,o;const[t,l]=await Promise.all([null==v?void 0:v().then(n=>(v.value=n,n)),null===(n=P.loadPrepare)||void 0===n?void 0:n.call(P)]);return null!==(o=null!=t?t:l)&&void 0!==o?o:()=>({})},h.prepareNiobe=function(n){var o,l;v&&!v.value&&(0,t().throwNiobeError)((0,t().unexpectedlyUnloadedPrepareLoader)());const u=null!==(o=null==v||null===(l=v.value)||void 0===l?void 0:l.call(v,{...n,...f}))&&void 0!==o?o:{};return Promise.resolve(u).then(o=>{n.requestPreparePropsCache&&n.requestPreparePropsCache.set(h,o)}),u},h.displayName=`withGraphql(${null!==(C=P.displayName)&&void 0!==C?C:P.name})`,h.InnerComponent=P,h.contextTypes={...o.asyncChunksContextTypes},(0,n.default)(h,P,{load:!0,loadPrepare:!0,loadComponent:!0,prepareNiobe:!0})}};babelHelpers.interopRequireDefault(r(d[0]));var n=babelHelpers.interopRequireDefault(r(d[1])),o=r(d[2]);function t(){const n=r(d[3]);return t=function(){return n},n}function l(){const n=r(d[4]);return l=function(){return n},n}function u(){const n=r(d[5]);return u=function(){return n},n}function c(){const n=r(d[6]);return c=function(){return n},n}function s(){const n=r(d[7]);return s=function(){return n},n}var p=r(d[8])}),"5b5d75",["d7ed8e","0c74c7","4b7bbf","941d44","c8a8e0","b7ded4","ad02bf","8915ba","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMissingPanelIdError=function(){return new t('PANELAYOUT01','PANELAYOUT01')},e.createMissingSubnavContextError=function(){return new t('PANELAYOUT03','PANELAYOUT03')},e.createNonPreloadedAsyncPanel=function(){return new t('PANELAYOUT04','PANELAYOUT04')},e.throwPanelLayoutError=function(t){throw(0,o.logError)(t.errorId,{sev:1}),(0,n.reportError)(t),t};var n=r(d[0]),o=r(d[1]);class t extends n.PineappleError{constructor(n,o){super(n,{fingerprint:['panel-layout']}),this.errorId=void 0,this.errorId=o}}}),"5bbea8",["5511db","79e5d4"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),o=babelHelpers.interopRequireDefault(r(d[1]));e.default=class{constructor(t={}){this._logger=void 0,this.initialized=void 0,this.initializers=void 0,this.options=void 0,this.options=t,this.initialized=!1,this.initializers=[],t.logger&&this.setLogger(t.logger)}setLogger(t){this._logger=new o.default(t)}getLogger(){if(null==this._logger)throw new Error('[tracking-js] Please provide a logger config, either in the constructor or using `setLogger()`.');return this._logger}init(t={}){this.options=Object.assign(this.options,t),this.initializers.forEach(t=>t(this.options)),this.initialized=!0,this.initializers=[],this.addInitHook(()=>this.getLogger().flushEventQueue())}addInitHook(t){this.initialized?t(this.options):this.initializers.push(t)}setUiRef(o,n){(0,t.default)('uiReferrer',o),n&&(window.location.href=n.getAttribute('href'))}getUiRef(){const o=(0,t.default)('uiReferrer');return o&&(0,t.default)('uiReferrer',null),o}clearContext(){this.getLogger().clearContext()}addContext(t){this.getLogger().addContext(t)}addDefaultContext(){this.getLogger().addDefaultContext()}onPageURIChange(t){this.getLogger().onPageURIChange(t)}airdogBump(t,o,n,s){this.getLogger().airdogBump(t,o,n,s)}logEvent(t){this.getLogger().logEvent(t)}deprecatedLogAirEvent(t){this.getLogger().logEvent(t)}logJitneyEvent(t){this.getLogger().logJitneyEvent(t)}queueEvent(t){this.getLogger().queueEvent(t)}queueJitneyEvent(t){this.getLogger().queueJitneyEvent(t)}setImpressionMetadata(t){this.getLogger().setImpressionMetadata(t)}logDebugEvent(t){this.getLogger().logEphemeralDebugEvent(t)}logUniversalSessionStartEvent(t){return this.getLogger().logUniversalSessionStartEvent(t)}logUniversalSessionStartEventFromServerData({eventDataSchema:t,eventData:o}){return this.getLogger().logUniversalSessionStartEvent({schema:t,event_data:o})}logUniversalSessionEndEvent(t){return this.getLogger().logUniversalSessionEndEvent(t)}}}),"64671f",["be917c","a620ea"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebContext=e.Context=void 0;e.WebContext={defaultProps:{},propTypes:{controller:{},page:{},action:{},rendered_on:{},viewport:{},req_uuid:{},page_uri:{},page_referrer:{},canonical_url:{},shardset:{},local_time:{},queued:{},canonical_host:{},app:{},section_id:{}}};e.Context={defaultProps:{},propTypes:{timestamp:{},source:{},platform:{},user_agent:{},version:{},bev:{},user_id:{},hash_user_id:{},language:{},locale:{},campaign:{},affiliate_id:{},screen_width:{},screen_height:{},web:{},monorail:{},mobile:{},extra_data:{},client_session_id:{},bev_expiry:{},service_context:{},page_name:{},amp_id:{},req_remote_host:{},amp_client_session_id:{},previous_page_name:{},visitor_id:{},impression_uuid:{},api_request_id:{},max_deferred_minutes:{},environment:{},device:{},traffic_type:{},context_api_client_id:{}}}}),"659d80",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMinimalistClientConstructor=void 0,e.useMinimalistClient=function({context:v}={}){var b;(0,n.collectAsyncChunks)(c().niobeMinimalistClientLoader,v);const{niobeMinimalistClient:M}=(0,t.useContext)(l.HyperloopProvidedContext),{niobeMinimalClientData:p}=(0,t.useContext)(o.HyperloopPropsContext),{niobeMinimalistClient:x}=null!==(b=(0,t.useContext)(u().NiobeClientReactContext))&&void 0!==b?b:{},[D,y]=(0,t.useState)(()=>{var t,n;return null!==(t=null!=M?M:x)&&void 0!==t?t:f.value&&(0,C().default)(f.value,null!=p?p:null===(n=(0,s().getState)())||void 0===n?void 0:n.niobeMinimalClientData)});return(0,t.useEffect)(()=>{let t=!0;return D||f().then(n=>{var l;t&&y((0,C().default)(n,null!=p?p:null===(l=(0,s().getState)())||void 0===l?void 0:l.niobeMinimalClientData))}),()=>{t=!1}},[]),(0,t.useEffect)(()=>{x||D&&(0,s().getDeferredState)().then(t=>{null!=t&&t.niobeMinimalClientData&&D.updateCache(null==t?void 0:t.niobeMinimalClientData)})},[D]),D};var t=r(d[0]),n=r(d[1]),l=r(d[2]),o=r(d[3]);function u(){const t=r(d[4]);return u=function(){return t},t}function s(){const t=r(d[5]);return s=function(){return t},t}function c(){const t=r(d[6]);return c=function(){return t},t}function C(){const t=babelHelpers.interopRequireDefault(r(d[7]));return C=function(){return t},t}const f=async()=>{const t=await(0,c().niobeMinimalistClientLoader)();return f.value=t,t};e.getMinimalistClientConstructor=f}),"6fd41b",["d7ed8e","4b7bbf","75993a","f1bcbf","8915ba","c8a8e0","352233","b775eb"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n(t)};const n=(o,u=[],c=new Set)=>new Proxy(o,{get(o,s){const f=Reflect.get(o,s),l=[...u,Array.isArray(o)?'[]':s],y=l.join('.');return null===f||'object'!=typeof f?(c.has(y)||(c.add(y),(0,t().postNiobeDataMessage)({key:y})),f):n(f,l,c)}})}),"6ffae5",["9653c9"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalComponentImpressionEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalComponentImpressionEvent:2.0.0',event_name:'universal_component_impression'},propTypes:{}};e.UniversalComponentImpressionEvent=n,n.fullyQualifiedName='Universal.v2.UniversalComponentImpressionEvent'}),"7055e3",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){return[...(function(){const t=window.crypto||window.msCrypto;return t?t.getRandomValues.bind(t):()=>[]})()(new Uint32Array(4))].map(t=>t.toString(36).padStart(7,'0')).join('')}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.generateRandomString=t;var n=t;e.default=n}),"73016f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HyperloopProvidedContext=void 0,e.default=function(t,o){return(0,n.jsx)(u.Provider,{value:t,children:o})};var t=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=o(n);if(u&&u.has(t))return u.get(t);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var l=c?Object.getOwnPropertyDescriptor(t,p):null;l&&(l.get||l.set)?Object.defineProperty(f,p,l):f[p]=t[p]}f.default=t,u&&u.set(t,f);return f})(r(d[0])),n=r(d[1]);function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(o=function(t){return t?u:n})(t)}const u=(0,t.createContext)({});e.HyperloopProvidedContext=u}),"75993a",["d7ed8e","721ed1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalPageImpressionEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalPageImpressionEvent:1.0.0',event_name:'universal_page_impression'},propTypes:{}};e.UniversalPageImpressionEvent=n,n.fullyQualifiedName='Universal.v1.UniversalPageImpressionEvent'}),"77b59e",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logError=function(n,t={}){(0,o.airdogCount)('panel_layout.web.error',1,{...t,errorId:n})},e.logImpression=function(n,t={}){(0,o.airdogCount)('panel_layout.web.impression',1,{...t,panelLayoutAppId:n})},e.logPanelImpression=function(n,t={}){(0,o.airdogCount)('panel_layout.web.impression.panel',1,{subnav:!1,...t,panelId:n})},e.logRedirect=function(n,t={}){(0,o.airdogCount)('panel_layout.web.redirect',1,{ssr:!1,...t,redirectId:n})};var o=r(d[0])}),"79e5d4",["08b665"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NiobeClientReactContext=void 0;const t=(0,r(d[0]).createContext)(null);e.NiobeClientReactContext=t,t.displayName='NiobeClientReactContext'}),"8915ba",["d7ed8e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useSharedPrepareOptions=function(){const{cookie:b,requestDomain:v,hostname:h}=(function(){var o,u,l,s;const{cookies:c,requestDomain:p,hostname:b}=(0,t.useContext)(f.HyperloopProvidedContext);return{cookie:t=>(0,n.default)(t)||null,requestDomain:null===(o=window)||void 0===o||null===(u=o.location)||void 0===u?void 0:u.hostname,hostname:null===(l=window)||void 0===l||null===(s=l.location)||void 0===s?void 0:s.hostname}})(),D=o.default.get('cdn_experiments'),P=o.default.get('exploreTreatments'),q=o.default.get('customPrepareNiobeData'),C=o.default.get('initialPageCDNCached'),x=String(s.default.current().id||''),R=(0,t.useContext)(c.TrebuchetClientContext);return{requestDomain:v,hostname:h,getRenderingState:p().getRenderingState,cookie:b,exploreTreatments:P,customPrepareNiobeData:q,currentUserId:x,isPrefetch:!1,getTrebuchets:t=>t.map(t=>R&&R(t)),getErf:t=>{var n;const o=null!==(n=D[t])&&void 0!==n?n:l.default.findTreatmentAndLog(t);return Promise.resolve(o)},logJitneyEvent:u.default.logJitneyEvent.bind(u.default),requestPreparePropsCache:null,initialPageCDNCached:C}};var t=r(d[0]),n=babelHelpers.interopRequireDefault(r(d[1])),o=babelHelpers.interopRequireDefault(r(d[2])),u=babelHelpers.interopRequireDefault(r(d[3])),l=babelHelpers.interopRequireDefault(r(d[4])),s=babelHelpers.interopRequireDefault(r(d[5])),c=r(d[6]),f=r(d[7]);function p(){const t=r(d[8]);return p=function(){return t},t}}),"8ab9d3",["d7ed8e","b0b12d","05b07c","4cdbd9","52d64b","c1939d","9d5402","75993a","9ef65f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){const o=l.default.parse(window.location.search.slice(1));o.euid&&n.logEvent({event_name:'email_referred_page_load',event_data:{channel:'email',rookery_uuid:o.euid,rookery_link_uuid:o.eluid,url:window.location.href}})};var l=babelHelpers.interopRequireDefault(r(d[0]))}),"8ac3bd",["d2b390"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={};function n(){const t=r(d[0]);return n=function(){return t},t}e.default=void 0;var s=babelHelpers.interopRequireWildcard(r(d[1]));Object.keys(s).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===s[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return s[n]}}))}));var o=babelHelpers.interopRequireDefault(r(d[2])),u=babelHelpers.interopRequireDefault(r(d[3])),l=r(d[4]);Object.keys(l).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===l[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return l[n]}}))}));const c=new s.default({logger:{request:function t(s,o=0,{useSendBeacon:l=!1}={}){let c,f=Array.isArray(s)?s:[s];const p=f.filter(t=>t.schema),y=f.filter(t=>!t.schema);if(y.length>0&&p.length>0)return Promise.all([t(y,o,{useSendBeacon:l}),t(p,o,{useSendBeacon:l})]);if(y.length>0)f=y,console.warn('AirEvent has been deprecated, please consider using `logJitneyEvent()` method to report Jitney event.');else{if(!(p.length>0))return Promise.resolve();f=p}if(!f[0].schema)return Promise.resolve();if(c='/tracking/jitney/logging/messages',f=f.map(t=>({...t,uuid:t.uuid||(0,n().v4)()})),l&&window.navigator&&window.navigator.sendBeacon){return window.navigator.sendBeacon(c,JSON.stringify(f))?Promise.resolve():Promise.reject()}return new Promise((n,s)=>{const l=new XMLHttpRequest;l.open('POST',c),l.setRequestHeader('Content-type','application/json'),l.onload=()=>{l.status>=200&&l.status<=204||1223===l.status?n():s(new u.default('Tracking request returned an error status',{status:l.status,statusText:l.statusText,responseText:l.responseText,readyState:l.readyState,responseJSON:null}))},l.onerror=()=>{s(new u.default('Tracking request failed',{status:l.status,statusText:l.statusText,responseText:l.responseText,readyState:l.readyState,responseJSON:null}))},l.timeout=1e4,l.ontimeout=()=>{if(o>=3)s(new Error("Tracking request timed out after 10000ms and 3 retries"));else{const u=o+1;t(f.map(t=>({...t,event_data:{...t.event_data,trackingjs_retry_count:u}})),u).then(n).catch(s)}},l.send(JSON.stringify(f))})}}});c.addInitHook(()=>(0,o.default)(c));var f=c;e.default=f}),"8c0e18",["f2cf32","64671f","8ac3bd","1c286d","a620ea"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return()=>{const u=n();return Object.assign(u.then(t.default),u)}};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"8ce522",["91fe65"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNiobeBroadcastChannel=function(n){if(n)return new n("niobe-fetch-status");if('undefined'!=typeof globalThis&&'function'==typeof globalThis.BroadcastChannel){const{BroadcastChannel:n}=globalThis;return new n("niobe-fetch-status")}return}}),"90a711",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(function(t){return t&&!(null==t||!t.default)})(t)?t.default:t}}),"91fe65",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buggyApolloCacheFragmentSelectionsWrite=function(n){return t('NIOBE41')},e.invalidNiobeClientType=function(n){return t(`NIOBE04 [${n}]`)},e.invalidNormalizationPatch=function(){return t('NIOBE42')},e.invalidQueryRefError=function(n){return t('NIOBE11')},e.minimalistOperationGivenToApolloClient=function(n){return t(`NIOBE51 [${n}]`)},e.mismatchingNiobeClientType=function(n,o){return t(`NIOBE05 [${n} ${o}]`)},e.mismatchingQueryRef=function(n,o){return t('NIOBE13')},e.mismatchingReflectedXClientRequestIdImplyingCachedData=function(n,o){return t(`NIOBE61 [${n} ${o}]`)},e.missingSerializedNiobeCache=function(){return t('NIOBE31')},e.niobeClientNotFoundFromContext=function(n){return t(`NIOBE01 [${n}]`)},e.noMatchingQueryRef=function(n){return t('NIOBE12')},e.receivedQueryRefForWrongClient=function({type:n},{type:o}){return t(`NIOBE03 [${n} ${o}]`)},e.reportNiobeError=o,e.ssrTimeoutError=function(n,o){return t(`NIOBE52 [${n}]`)},e.throwNiobeError=function(n){throw n},e.unexpectedlyLoadingObservable=function(n){return t('NIOBE29')},e.unexpectedlyUnloadedPrepareLoader=function(){return t('NIOBE21')},e.warnNiobeError=function(n,t){o(n,t)};var n=r(d[0]);function t(t){return new n.PineappleError(t,{fingerprint:['niobe']})}function o(t,o){(0,n.reportError)(t,o)}}),"941d44",["5511db"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postNiobeDataMessage=void 0;e.postNiobeDataMessage=o=>{window&&window.postMessage({name:"x-ray-niobe-data",key:o.key},'*')}}),"9653c9",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAppShell=function(){return!0===t.default.get('isAppShell')};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"99bf85",["05b07c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrebuchetClientContext=void 0;const t=(0,r(d[0]).createContext)(void 0);e.TrebuchetClientContext=t,t.displayName='TrebuchetClientContext'}),"9d5402",["d7ed8e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRenderingState=function(){if(!(0,t.hasClientHydrateCompleted)())return'client-hydration';return'client-render'};var t=r(d[0])}),"9ef65f",["5a2ed0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1])),s=babelHelpers.interopRequireDefault(r(d[2]));function o(){const t=r(d[3]);return o=function(){return t},t}function u(){const t=r(d[4]);return u=function(){return t},t}function l(){const t=r(d[5]);return l=function(){return t},t}function c(){const t=r(d[6]);return c=function(){return t},t}function h(){const t=r(d[7]);return h=function(){return t},t}function v(){const t=r(d[8]);return v=function(){return t},t}function p(){const t=r(d[9]);return p=function(){return t},t}function _(){const t=r(d[10]);return _=function(){return t},t}var f=babelHelpers.interopRequireDefault(r(d[11]));function E(){const t=r(d[12]);return E=function(){return t},t}var b=babelHelpers.interopRequireWildcard(r(d[13])),C=r(d[14]),y=r(d[15]),S=r(d[16]),w=babelHelpers.interopRequireDefault(r(d[17])),I=babelHelpers.interopRequireDefault(r(d[18]));const k='tracking_event_queue',q=[o().UniversalComponentActionEvent,u().UniversalComponentImpressionEvent,l().UniversalPageImpressionEvent,h().NativeMeasurementEvent,c().PerformanceWebPageMetricsEvent,_().UniversalPageResolutionEvent,v().UniversalSessionStartEvent];function D(t,n=t.length){return t.splice(0,n)}let x=null;function A(t){if(!t.event_name)throw new Error('event_name is a required key for logEvent')}function Q(t){return'string'==typeof t?t:t.fullyQualifiedName||'unknown'}function T(t){return'string'==typeof t?t:JSON.stringify(t)}function U(t){return q.some(n=>n.defaultProps.schema===t.schema)&&t.event_data.event_data_schema?{...t,event_data:{...t.event_data,event_data:T(t.event_data.event_data),event_data_schema:Q(t.event_data.event_data_schema)}}:t}function L(){return(!!f.default.types.sessionStorage&&f.default.sessionStorage(y.ANCESTOR_TAB_SESSION_STORAGE_KEY)||[]).map(t=>({web_tab_uuid:t.id,timestamp_ms:t.timestamp}))}e.default=class{constructor(t={}){var n;if(this.autoBatchLogEvents=void 0,this.batchedIdleTimeoutId=void 0,this.bootstrappedPageEventData=void 0,this.debounceLogEvents=void 0,this.hasAddedFlushQueueEventHandlers=void 0,this.isFlushingEventQueue=void 0,this.isUnloading=void 0,this.logContext=void 0,this.pageEventData=void 0,this.pageEventDataSchema=void 0,this.pageImpressionUuid=void 0,this.pageURIChangeCallbacks=void 0,this.queuedEvents=[],this.awaitingQueueCall=!1,this.request=void 0,this.sendTrackingRequestDebounced=void 0,this.stringifiedPageEventData=void 0,this.BATCH_SIZE_LIMIT=void 0,this.cancelPageChangeSubscription=void 0,this.handleFlushOnUnload=()=>{this.isUnloading=!0,this.flushEventQueue({useSendBeacon:!0})},this.handleFlushOnVisibilityChange=()=>{'visible'===document.visibilityState?this.isUnloading=!1:this.isUnloading=!0,this.flushEventQueue({useSendBeacon:!0})},this.logContext={},'function'!=typeof t.request)throw new Error('[tracking-js] EventLogger requires a `request` option to be passed in that is a function');this.request=t.request,this.setupTrackingDebounce(),this.debounceLogEvents=!!t.debounceLogEvents,this.autoBatchLogEvents=null===(n=t.autoBatchLogEvents)||void 0===n||n,this.scheduleFlushQueue=this.scheduleFlushQueue.bind(this),this.flushEventQueue=this.flushEventQueue.bind(this),this.shouldAutoQueueEvent=this.shouldAutoQueueEvent.bind(this),this.closeAllActiveSessions=this.closeAllActiveSessions.bind(this),this.pageURIChangeCallbacks=[],this.BATCH_SIZE_LIMIT=95e3,this.isUnloading=!1,this.batchedIdleTimeoutId=0,this.hasAddedFlushQueueEventHandlers=!1,this.pageEventDataSchema=null,this.pageEventData={},this.bootstrappedPageEventData={},this.stringifiedPageEventData='',window.addEventListener&&window.addEventListener('beforeunload',this.closeAllActiveSessions,{once:!0})}setupTrackingDebounce(){let t=[];const n=(function(t){let n;return(...s)=>{null!==n&&g.cancelIdleCallback(n),n=g.requestIdleCallback(()=>{n=null,t(...s)})}})(n=>{const s=n.map(t=>t.data),o=n.map(t=>t.callback);t=[],this.sendTrackingRequest(s,(t,n)=>{o.filter(Boolean).forEach(s=>s(t,n))})});this.sendTrackingRequestDebounced=(s,o)=>{if(o&&'function'!=typeof o)throw new Error('Callback provided was not of type function');t=[...t,{data:s,callback:o}],n(t)}}clearContext(){this.logContext={}}addContext(t){let n=t;n&&0===n.user_id&&(n={...n,user_id:null}),Object.assign(this.logContext,n)}addDefaultContext(){this.updateDynamicContext();const{af:o=null,c:u=null}=s.default.parse(window.location.search.slice(1)),l=o||(0,n.default)('affiliate'),c=u||(0,n.default)('campaign');l&&this.addContext({affiliate:l}),c&&this.addContext({campaign:c}),this.maybeAddCookie('bev'),this.maybeAddCookie('bev','visitor_id');const h=t.default.locale();h&&this.addContext({locale:h,language:h.split('-')[0]})}onPageURIChange(t){this.pageURIChangeCallbacks.push(t);let n=!0;return()=>{if(!n)return;n=!1;const s=this.pageURIChangeCallbacks.indexOf(t);this.pageURIChangeCallbacks.splice(s,1)}}updateDynamicContext(){if(!document.location)return;let t=!1;this.logContext.page_uri!==document.location.pathname&&(x=this.logContext.page_uri,t=null!=x),this.addContext({page_uri:document.location.pathname,page_referrer:x||document.referrer}),t&&this.pageURIChangeCallbacks.forEach(t=>t())}shouldAutoQueueEvent(){return this.autoBatchLogEvents&&!this.isUnloading}logEvent(t){if((this.shouldAutoQueueEvent()||t.queue)&&!t.log_immediately)return void this.queueEvent(t);A(t);const n=this.formatEventData(t);!1!==t.debounce&&(t.debounce||this.debounceLogEvents)?this.sendTrackingRequestDebounced(n,t.callback):this.sendTrackingRequest(n,t.callback,{useSendBeacon:!!t.use_send_beacon})}async scheduleFlushQueue(){this.batchedIdleTimeoutId=g.requestIdleCallback(this.flushEventQueue,{timeout:5e3}),this.addFlushQueueEventHandlers()}addFlushQueueEventHandlers(){this.hasAddedFlushQueueEventHandlers||(this.hasAddedFlushQueueEventHandlers=!0,window.addEventListener('unload',this.handleFlushOnUnload),document.addEventListener('visibilitychange',this.handleFlushOnVisibilityChange),this.cancelPageChangeSubscription=this.onPageURIChange(this.scheduleFlushQueue))}removeFlushQueueEventHandlers(){var t;this.hasAddedFlushQueueEventHandlers&&(this.hasAddedFlushQueueEventHandlers=!1,window.removeEventListener&&(window.removeEventListener('unload',this.handleFlushOnUnload),document.removeEventListener&&document.removeEventListener('visibilitychange',this.handleFlushOnVisibilityChange),null===(t=this.cancelPageChangeSubscription)||void 0===t||t.call(this),this.cancelPageChangeSubscription=void 0))}async queueEvent(t){A(t);const n=this.formatEventData(t);if(this.queuedEvents.push(n),this.autoBatchLogEvents&&this.addFlushQueueEventHandlers(),!this.awaitingQueueCall){this.awaitingQueueCall=!0;try{return await C.scheduler.postTask(()=>{const t=D(this.queuedEvents);this.storeQueueSync(...t)},{priority:'user-visible',delay:10})}catch(t){(0,C.exceptAbortError)()(t)}finally{this.awaitingQueueCall=!1}}}storeQueueSync(...t){try{const n=[...(0,f.default)(k)||[],...t];(0,f.default)(k,n,{expires:6e4})}catch(t){(0,S.warn)("Could not add event to queue: "+t)}this.autoBatchLogEvents&&this.scheduleFlushQueue()}logJitneyEvent({callback:t,event_data:n,log_immediately:s=!1,queue:o,schema:u,use_send_beacon:l,include_active_sessions:c}){if(!u||!u.defaultProps||!u.defaultProps.schema)throw new TypeError('Need to pass schema object from airbnb-jitney-schemas');const h=u.defaultProps.schema;("Ephemeral.v1.EphemeralDebugEvent"!==u.fullyQualifiedName||(function({debug_event_name:t,owner_email_address:n,stop_publishing_ds:s}={}){if(!n||'OMITTED_IN_JS'!==n)return console.error(`invalid owner email address ${n} for ${t}, please use the Tracking.logDebugEvent method to emit a debug event.`),!1;const o=new Date(s);return s&&s.match(/\d{4}-\d{2}-\d{2}/)&&!Number.isNaN(o)?!(o<new Date)||(console.error(`expired ephemeral debug event ${t} no longer being emitted, please remove the producer code!`),!1):(console.error(`invalid stop publishing date ${s} for ${t}, must be a valid date in the format YYYY-mm-DD. Please make this a static value. Do not do something like current date + 1 month :(`),!1)})(n))&&this.logEvent({event_name:"jitney_"+u.defaultProps.event_name,post_process:t=>{const l=(0,I.default)(t,u,n);let v;if(l.schema=h,void 0!==window.navigator&&(l.event_data.context.user_agent=window.navigator.userAgent),(0,b.shouldAddAppLoggingContext)(u)&&(l.event_data.app_logging_context=b.default.getAppLoggingContext(u,this.logContext.page_name,c)),q.some(t=>t.fullyQualifiedName===u.fullyQualifiedName)){const{event_data:t,event_data_schema:n,...c}=l.event_data,{event_data:p,event_data_schema:_,...f}=u.propTypes;v=(0,w.default)(f,c);const E=t&&Object.keys(t).length;if(E>0&&!n)v=[`Error: Cannot supply event_data to ${h} without an event_data_schema`,...v];else if(n){'string'!=typeof n&&(v=[...(0,w.default)(n.propTypes,{...n.defaultProps,...t}),...v]);const u=(o||this.shouldAutoQueueEvent())&&!s;0!==v.length||u||(l.event_data.event_data=T(t),l.event_data.event_data_schema=Q(n))}else 0===E&&(l.event_data.event_data=void 0)}else v=(0,w.default)(u.propTypes,l.event_data);if(v.length>0){'undefined'!=typeof console&&console.error&&v.forEach(t=>console.error(t)),this.airdogBump('di.jitney.logging.invalid_event',1,["schema:"+h]);const t="com.airbnb.jitney.event.logging.Malformed:MalformedEvent:1.0.0";let n=l.event_data&&l.event_data.context||this.logContext;return n={source:'unknown',...n},{schema:t,event_data:{schema:t,event_schema:h,event_json:JSON.stringify(l.event_data),errors:v.map(t=>String(t)),context:n}}}return l},callback:(n,s)=>{n||(this.airdogBump('di.jitney.logging.tracking_error',1,["schema:"+h]),this.logEvent({event_name:'jitney_tracking_error',event_data:{schema_name:h,status:null==s?void 0:s.status,responseText:null==s?void 0:s.responseText,timeout:null==s?void 0:s.timeout}})),null==t||t()},debounce:!1,log_immediately:s,queue:o,use_send_beacon:l})}queueJitneyEvent({schema:t,event_data:n}){this.logJitneyEvent({schema:t,event_data:n,queue:!0})}logEphemeralDebugEvent({debugEventName:t,debugEventData:n,stopPublishingDate:s,queue:o}){}breakEventsIntoBatches(t){const n=[];let s=0,o=[];return t.forEach(t=>{const u=JSON.stringify(t).length;u>this.BATCH_SIZE_LIMIT?n.push([t]):u+s>this.BATCH_SIZE_LIMIT?(o.length>0&&n.push(o),o=[t],s=u):(o.push(t),s+=u)}),o.length>0&&n.push(o),n}async flushEventQueue({useSendBeacon:t=!1}={}){try{this.batchedIdleTimeoutId&&('cancelIdleCallback'in g&&g.cancelIdleCallback(this.batchedIdleTimeoutId),this.batchedIdleTimeoutId=0);const{isFlushingEventQueue:n}=this;if(n&&!t)return;let s=(0,f.default)(k)||[];if(!s.length&&!this.queuedEvents.length)return;const o=D(this.queuedEvents);s=[...s,...o];const u=s.map(t=>({...t,event_data:this.addContextToQueuedEvent(U(t).event_data)}));this.breakEventsIntoBatches(u).forEach(n=>{this.sendTrackingRequest(n,null,{useSendBeacon:t})}),(0,f.default)(k,null)}catch(t){(0,S.warn)("Could not flush event queue: "+t)}finally{this.removeFlushQueueEventHandlers()}this.isFlushingEventQueue=!1}formatEventData(t){this.updateDynamicContext();const n={event_name:t.event_name,event_data:{...this.logContext,timestamp:Date.now(),...t.event_data},trackingjs_logging_version:"0.2"};return t.post_process?t.post_process(n):n}addContextToQueuedEvent(t){return null!=t&&t.schema?{...t,context:{...t.context,web:{...t.context.web,queued:!0}}}:{...t,trackingjs_queued:!0,trackingjs_queued_context:this.logContext}}async sendTrackingRequest(t,n,{useSendBeacon:s=!1}={}){const o=s||this.isUnloading;try{const s=await this.request(t,0,{useSendBeacon:o});return n&&n(!0),s}catch(s){!(function(t){(0,S.warn)(`Failed to log event (event=${t.event_name})`)})(t),n&&n(!1,s)}(0,S.isDev)()&&(0,f.default)('log-in-dev')&&((0,S.log)('--- Tracking.logEvent ---'),(0,S.log)(t))}maybeAddCookie(t,s){const o=(0,n.default)(t);o&&this.addContext({[s||t]:o})}airdogBump(t,n,s,o){const u={};o&&'object'==typeof o&&(u.debounce=o.debounce,u.queue=o.queue),'boolean'==typeof o&&(u.queue=o);const l={...u,event_name:'airdog_bump',event_data:{datadog_key:t,queue:u.queue}};n&&(l.event_data.datadog_count=n),s&&('object'!=typeof s||Array.isArray(s)?l.event_data.datadog_tags=s:l.event_data.datadog_tags=Object.entries(s).map(([t,n])=>`${t}:${n}`).join(',')),this.logEvent(l)}setImpressionMetadata({eventDataSchema:t,initialEventData:n={},impressionUuid:s}={}){this.pageEventDataSchema=t,this.pageImpressionUuid=s,this.pageEventData=n}logUniversalSessionStartEvent({schema:t,event_data:n={}}){const s=(0,E().v4)(),o={event_data_schema:t,event_data:n,app_logging_context:b.default.getAppLoggingContext(),web_ancestor_tabs:L(),uuid:s};return this.logJitneyEvent({schema:v().UniversalSessionStartEvent,event_data:o}),b.default.addSession({uuid:s,eventDataSchema:Q(t),eventData:T(n)}),s}logUniversalSessionEndEvent({sessionId:t,sessionOutcome:n,sessionData:s,useSendBeacon:o}){if(!t)throw new TypeError('Need to pass a sessionId');const u=b.default.getSession(t);if(!u)return!1;const l={event_data_schema:u.event_data_schema,event_data:u.event_data,session_outcome:n,app_logging_context:b.default.getAppLoggingContext(),web_ancestor_tabs:L(),uuid:u.uuid,...s||{}};return this.logJitneyEvent({schema:p().UniversalSessionEndEvent,event_data:l,use_send_beacon:o}),b.default.removeSession(t),!0}closeAllActiveSessions(){const t=[...b.default.getAppLoggingContext().active_sessions];t.reverse(),t.forEach(t=>{this.logUniversalSessionEndEvent({sessionId:t.uuid,useSendBeacon:!0})}),window.removeEventListener&&window.removeEventListener('beforeunload',this.closeAllActiveSessions)}}}),"a620ea",["6898d5","b0b12d","d2b390","3c2344","7055e3","77b59e","39b0bd","51757f","d81498","e6ecf0","be7972","be917c","f2cf32","f983b1","cc3672","d56f8f","2adc65","281200","ce1868"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.usePrepareProps=function({niobeClients:o,prepare:s,match:c,location:l,extraProps:p,preparePropsCacheKey:f}){const{requestPreparePropsCache:P}=(0,n.useContext)(t.HyperloopProvidedContext),v=(0,n.useRef)(null),h=(0,n.useRef)(null),C=(0,u().useSharedPrepareOptions)(),R=(0,n.useRef)(l),_=(0,n.useRef)(c);_.current=c,R.current=l;const x=(0,n.useMemo)(()=>{var n,t;return o&&s?null!==(n=null!==(t=null==P?void 0:P.get(f))&&void 0!==t?t:null==s?void 0:s({...C,match:_.current,location:R.current,previousPrepareProps:v.current,previousLocation:h.current,...o,...p}))&&void 0!==n?n:{}:null},[p,o,s,f,P,C]),y=x instanceof Promise?null:x,[b,M]=(0,n.useState)(null),O=null!=y?y:b;return v.current=O,h.current=l,(0,n.useEffect)(()=>{let n=!0;return x instanceof Promise&&x.then(t=>{n&&M(t)}),()=>{n=!1}},[c,l]),O};var n=r(d[0]),t=r(d[1]);function u(){const n=r(d[2]);return u=function(){return n},n}}),"ad02bf",["d7ed8e","75993a","8ab9d3"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(){const t=r(d[1]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,c){const u=(0,n().getSharedNiobeOptions)(window),s=(0,t().createNiobeBroadcastChannel)();return new o({data:c,fetchStatusMessageTarget:s,WebSocket:window.WebSocket,...u})}}),"b775eb",["90a711","c8a8e0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.usePrepare=function({prepareLoader:n,context:l}){n&&(0,u.collectAsyncChunks)(n,l);const[c,o]=(0,t.useState)(()=>null==n?void 0:n.value);return(0,t.useEffect)(()=>{let t=!0;return n&&!c&&n().then(u=>{n.value=u,t&&o(()=>u)}),()=>{t=!1}},[]),n?c||null:void 0};var t=r(d[0]),u=r(d[1])}),"b7ded4",["d7ed8e","4b7bbf"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalPageResolutionEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalPageResolutionEvent:1.0.0',event_name:'universal_page_resolution'},propTypes:{}};e.UniversalPageResolutionEvent=n,n.fullyQualifiedName='Universal.v1.UniversalPageResolutionEvent'}),"be7972",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=b,e.schedulePreload=function(){c||o.value||(c=requestIdleCallback(b.load))};babelHelpers.interopRequireDefault(r(d[0])),r(d[1]);var l=babelHelpers.interopRequireDefault(r(d[2])),t=babelHelpers.interopRequireWildcard(r(d[3])),u=r(d[4]),s=r(d[5]);const o=(0,l.default)(()=>r(d[7])(d[6],"./Placeholder").then(babelHelpers.interopRequireWildcard)),n="p1ss0zvq";let c;function b(){const l=(0,u.useCx)(),[c]=(0,t.default)(o);return(0,s.jsx)("div",{className:l(n),children:!!c&&(0,s.jsx)(c,{})})}b.load=()=>(0,t.loadLoader)(o)}),"c4fed4",["d7ed8e","f03cc4","8ce522","cbee6b","5f1f1f","721ed1","d965da","b8ad06"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDeferredState=void 0,e.getSharedNiobeOptions=function(n){var t;const l=new URLSearchParams(n.location.search),u='true'===l.get('niobe_skip_prepare'),s='true'===l.get('niobe_data_wrapper'),c=l.get('niobe_test_destinations'),f={...(0,M().default)()};c&&(f[S().KRAKEN_TEST_DESTINATIONS_HEADER]=c);const v=(0,R().getBrowserHyperloopEnv)(),h=(0,C().createBrowserMetricReporter)(v),A=o.default.logJitneyEvent.bind(o.default),{performance:D}=n,H=null==D||null===(t=D.memory)||void 0===t?void 0:t.jsHeapSizeLimit,y=H&&H/4,I=s?_().default:void 0;return{fetch:fetch,getRenderingState:b().getRenderingState,disablePrepare:u,wrapResultData:I,extraHeaders:f,metricReporter:h,jitneyLogger:A,performance:D,cacheMaxSize:y,generateRandomString:p.generateRandomString}},e.getState=void 0,e.loadNiobeClientConstructors=async function(){var n;const t=A().getMinimalistClientConstructor,o=h().getApolloClientConstructor;let l=[];const u=null!==(n=await(0,f.default)('state'))&&void 0!==n?n:{},{loadSingleClient:s,niobeClientIsMinimalist:c}=u;l=s&&c?[t]:[t,o];return l.map(n=>n())},e.useNiobeClients=function({context:t,onlyMinimalist:o}){var l,c,p,f,C,b,v,S;const{niobeClientIsMinimalist:M,loadSingleClient:R}=(0,n.useContext)(s.HyperloopProvidedContext),{niobeClientIsMinimalist:_,loadSingleClient:D}=(0,n.useContext)(u.HyperloopPropsContext),I=null!==(l=null!==(c=null!==(p=null!=o?o:M)&&void 0!==p?p:_)&&void 0!==c?c:null===(f=H())||void 0===f?void 0:f.niobeClientIsMinimalist)&&void 0!==l&&l,N=null!==(C=null!==(b=null!==(v=null!=o?o:R)&&void 0!==v?v:D)&&void 0!==b?b:null===(S=H())||void 0===S?void 0:S.loadSingleClient)&&void 0!==C&&C,{shouldLoadApolloClient:w}=(function({loadSingleClient:n,niobeClientIsMinimalist:t}){const o=n&&!t||!n;return{shouldCreateMinimalistClient:!0,shouldCreateApolloClient:o,shouldLoadApolloClient:o}})({loadSingleClient:N,niobeClientIsMinimalist:I}),x={niobeMinimalistClient:(0,A().useMinimalistClient)({context:t}),niobeApolloClient:(0,h().useNiobeApolloClient)({context:t,skip:!w})},E={...y({...x,niobeClientIsMinimalist:I}),...x};return(function(n){return Boolean(n.niobeClient&&n.niobeMinimalistClient)})(E)?E:null};var n=r(d[0]),t=babelHelpers.interopRequireDefault(r(d[1])),o=babelHelpers.interopRequireDefault(r(d[2])),l=babelHelpers.interopRequireDefault(r(d[3])),u=r(d[4]),s=r(d[5]),c=r(d[6]),p=r(d[7]),f=babelHelpers.interopRequireDefault(r(d[8]));function C(){const n=r(d[9]);return C=function(){return n},n}function b(){const n=r(d[10]);return b=function(){return n},n}function v(){const n=r(d[11]);return v=function(){return n},n}function S(){const n=r(d[12]);return S=function(){return n},n}function M(){const n=babelHelpers.interopRequireDefault(r(d[13]));return M=function(){return n},n}function R(){const n=r(d[14]);return R=function(){return n},n}function _(){const n=babelHelpers.interopRequireDefault(r(d[15]));return _=function(){return n},n}function h(){const n=r(d[16]);return h=function(){return n},n}function A(){const n=r(d[17]);return A=function(){return n},n}const D=()=>{var n;return null!==(n=D.promise)&&void 0!==n||(D.promise=(0,f.default)('deferred-state')),D.promise};e.getDeferredState=D;const H=()=>{{if(H.value)return H.value;const n=(0,l.default)('state')||{};return'client-hydration'!==(0,b().getRenderingState)()||null!=n&&n.niobeApolloClientData&&null!=n&&n.niobeMinimalClientData||(0,c.isAppShell)()||t.default.get('isOmni')||'true'===process.env.HAPPO||'STORYBOOK_ENV'in window||(0,v().warnNiobeError)((0,v().missingSerializedNiobeCache)()),H.value=n,n}};function y({niobeClientIsMinimalist:n,niobeMinimalistClient:t,niobeApolloClient:o}){return{niobeClient:n?null!=t?t:o:null!=o?o:t,niobeMinimalistClient:t}}e.getState=H}),"c8a8e0",["d7ed8e","05b07c","4cdbd9","f1ceb7","f1bcbf","75993a","99bf85","73016f","e161ed","5a6afa","9ef65f","941d44","2152b5","ed3571","c8dac5","6ffae5","1638e7","6fd41b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBrowserHyperloopEnv=function(){const p=t.default.get('HYPERLOOP_ENV');return{loop:(0,o.getHyperloopName)(p),tier:(0,o.default)({isDev:l.IS_DEV,hyperloopEnv:p})}};var t=babelHelpers.interopRequireDefault(r(d[0])),o=babelHelpers.interopRequireWildcard(r(d[1])),l=r(d[2])}),"c8dac5",["05b07c","553d67","4cef2c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(f){(0,l.default)(f||void 0);const[o,v]=u.default.useState(()=>null==f?void 0:f.value),[s,c]=u.default.useState(!(!f||null!=f&&f.value));return u.default.useEffect(()=>{if(!f||null!=f&&f.value)return c(!1),void v(()=>null==f?void 0:f.value);let u=!0;return c(!0),n(f).then(t.nextTask).then(t=>u&&v(()=>t)).finally(()=>u&&c(!1)),()=>{u=!1}},[f]),[o,s]},e.loadLoader=n;var u=babelHelpers.interopRequireDefault(r(d[0])),t=r(d[1]),l=babelHelpers.interopRequireDefault(r(d[2]));async function n(u){if(u.value)return u.value;const t=await u();return u.value=t,t}}),"cbee6b",["d7ed8e","7fc97b","ed7b90"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(t,n){return n.reduce((n,o)=>(n[o]=t[o],n),{})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,c,u){const s=o.event_data,{dimensions:f}=s,{height:h,width:_}=f||{height:-1,width:-1};return s.affiliate_id=s.affiliate,{...o,event_data:{context:{...n(s,Object.keys(t().Context.propTypes)),web:n(s,Object.keys(t().WebContext.propTypes)),screen_height:h,screen_width:_},...c.defaultProps,...u}}}}),"ce1868",["659d80"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tabTimestampLocalStorageKey=e.ancestorTabLocalStorageKey=e.TIMESTAMP_SESSION_STORAGE_KEY=e.TAB_ID_SESSION_STORAGE_KEY=e.LOCK_SESSION_STORAGE_KEY=e.ANCESTOR_TAB_SESSION_STORAGE_KEY=void 0;e.ancestorTabLocalStorageKey=S=>"tab-tracking-v2-ancestorTabs-"+S;e.tabTimestampLocalStorageKey=S=>"tab-tracking-v2-tabTimestamp-"+S;e.TAB_ID_SESSION_STORAGE_KEY="tab-tracking-v2-tabId";e.ANCESTOR_TAB_SESSION_STORAGE_KEY="tab-tracking-v2-ancestorTabs";e.TIMESTAMP_SESSION_STORAGE_KEY="tab-tracking-v2-timestamp";e.LOCK_SESSION_STORAGE_KEY="tab-tracking-v2-lockSessionStorage"}),"d56f8f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalSessionStartEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalSessionStartEvent:1.0.0',event_name:'universal_session_start'},propTypes:{}};e.UniversalSessionStartEvent=n,n.fullyQualifiedName='Universal.v1.UniversalSessionStartEvent'}),"d81498",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({Placeholder:u=n.default,loader:c}){function s(o){const[n]=(0,l.default)(c);return n?(0,t.jsx)(n,{...o}):u?(0,t.jsx)(u,{...o}):null}return(0,n.schedulePreload)(),s.loadComponent=()=>(0,l.loadLoader)(c),s.load=()=>s.loadComponent(),s.getChunkName=()=>(c.value||(0,o.throwPanelLayoutError)((0,o.createNonPreloadedAsyncPanel)()),c().chunkName),s.Placeholder=u,s};babelHelpers.interopRequireDefault(r(d[0]));var l=babelHelpers.interopRequireWildcard(r(d[1])),o=r(d[2]),n=babelHelpers.interopRequireWildcard(r(d[3])),t=r(d[4])}),"e4d3aa",["d7ed8e","cbee6b","5bbea8","c4fed4","721ed1"]);
__d((function(g,r,i,a,m,e,d){}),"e4edba",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalSessionEndEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalSessionEndEvent:1.0.0',event_name:'universal_session_end'},propTypes:{}};e.UniversalSessionEndEvent=n,n.fullyQualifiedName='Universal.v1.UniversalSessionEndEvent'}),"e6ecf0",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{"X-Airbnb-Supports-Airlock-V2":'true'}}}),"ed3571",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,o=!1){const s=t.default.useContext(l.default);n&&!o&&(0,u.collectAsyncChunks)(n,s)};var t=babelHelpers.interopRequireDefault(r(d[0])),u=r(d[1]),l=babelHelpers.interopRequireDefault(r(d[2]))}),"ed7b90",["d7ed8e","4b7bbf","e99233"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HyperloopPropsContext=void 0;const o=(0,r(d[0]).createContext)({});e.HyperloopPropsContext=o}),"f1bcbf",["d7ed8e"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}function t(){const n=r(d[1]);return t=function(){return n},n}function s(){const n=r(d[2]);return s=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.shouldAddAppLoggingContext=function(o){return[s().UniversalComponentActionEvent,t().UniversalPageImpressionEvent,n().UniversalComponentImpressionEvent].some(n=>n.fullyQualifiedName===o.fullyQualifiedName)};const o=[3e3,3003,1e3,2e3,4003,4011];var u=new class{constructor(){this.appLoggingContext=void 0,this.appLoggingContext={active_sessions:[]}}getAppLoggingContext(n,t,s){const u={...this.appLoggingContext,active_sessions:[...this.appLoggingContext.active_sessions]};return s||"Universal.v2.UniversalComponentImpressionEvent"===(null==n?void 0:n.fullyQualifiedName)&&t&&!o.includes(t)&&(u.active_sessions=[]),u}addSession({uuid:n,eventDataSchema:t,eventData:s}){this.appLoggingContext.active_sessions.push({uuid:n,event_data_schema:t,event_data:s})}getSession(n){return this.appLoggingContext.active_sessions.find(t=>t.uuid===n)}removeSession(n){this.appLoggingContext.active_sessions=this.appLoggingContext.active_sessions.filter(({uuid:t})=>t!==n)}addTabInfo(n,t){this.appLoggingContext.web_tab_uuid=n,this.appLoggingContext.web_ancestor_tabs=t}reset(){this.appLoggingContext={active_sessions:[]}}};e.default=u}),"f983b1",["7055e3","77b59e","3c2344"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/e364.f041e9df46.js.map